<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Projection predictive feature selection — projpred-package • projpred</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Projection predictive feature selection — projpred-package"><meta property="og:description" content="projpred is an R package for performing a projection predictive
variable (or &quot;feature&quot;) selection for generalized linear models (GLMs),
generalized linear multilevel (or &quot;mixed&quot;) models (GLMMs), generalized
additive models (GAMs), and generalized additive multilevel (or &quot;mixed&quot;)
models (GAMMs), with the support for additive models still being
experimental. Note that the term &quot;generalized&quot; includes the Gaussian family
as well.
The package is compatible with rstanarm and brms, but developers
of other packages are welcome to add new get_refmodel() methods (which
enable the compatibility of their packages with projpred). Custom
reference models can also be used via init_refmodel(). It is via custom
reference models that projpred supports the projection onto candidate
models whose predictor terms are not a subset of the reference model's
predictor terms. However, for rstanarm and brms reference models,
projpred only supports the projection onto submodels of the reference
model. For the sake of simplicity, throughout this package, we use the term
&quot;submodel&quot; for all kinds of candidate models onto which the reference model
is projected, even though this term is not always appropriate for custom
reference models.
Currently, the supported families are gaussian(), binomial() (and---via
brms::get_refmodel.brmsfit()---also brms::bernoulli()), as well as
poisson().
The projection of the reference model onto a submodel can be run on multiple
CPU cores in parallel (across the projected draws). This is powered by the
foreach package. Thus, you can use any parallel (or sequential) backend
compatible with foreach, e.g., the backends from packages
doParallel, doMPI, or doFuture. Using the global option
projpred.prll_prj_trigger, you can modify the number of projected draws
below which no parallelization is used (even if a parallel backend is
registered). Such a &quot;trigger&quot; threshold exists because of the computational
overhead of a parallelization which makes parallelization only useful for a
sufficiently large number of projected draws. By default, parallelization is
turned off, which can also be achieved by supplying Inf (or NULL) to
option projpred.prll_prj_trigger. Note that we cannot recommend
parallelizing the projection on Windows because in our experience, the
parallelization overhead is larger there, causing a parallel run to take
longer than a sequential run. Also note that the parallelization works well
for GLMs, but for GLMMs, GAMs, and GAMMs, the fitted model objects are quite
big, which---when running in parallel---may lead to an excessive memory usage
which in turn may crash the R session. Thus, we currently cannot recommend
the parallelization for GLMMs, GAMs, and GAMMs.
The vignettes (currently, there is
only a single one) illustrate how to use the projpred functions in
conjunction. Shorter examples are included here in the documentation.
Some references relevant for this package are given in section &quot;References&quot;
below. See citation(package = &quot;projpred&quot;) for details on citing
projpred."><meta property="og:image" content="https://mc-stan.org/projpred/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projpred</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://mc-stan.org/rstan" class="external-link">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/cmdstanr" class="external-link">cmdstanr</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm" class="external-link">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/bayesplot" class="external-link">bayesplot</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan" class="external-link">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo" class="external-link">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools" class="external-link">rstantools</a>
    </li>
    <li>
      <a href="https://mc-stan.org/posterior" class="external-link">posterior</a>
    </li>
  </ul></li>
<li>
  <a href="https://mc-stan.org" class="external-link">Stan</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://twitter.com/mcmc_stan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/projpred/" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Projection predictive feature selection</h1>
    <small class="dont-index">Source: <a href="https://github.com/stan-dev/projpred/blob/HEAD/R/projpred-package.R" class="external-link"><code>R/projpred-package.R</code></a></small>
    <div class="hidden name"><code>projpred-package.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><span class="pkg">projpred</span> is an <span style="R">R</span> package for performing a projection predictive
variable (or "feature") selection for generalized linear models (GLMs),
generalized linear multilevel (or "mixed") models (GLMMs), generalized
additive models (GAMs), and generalized additive multilevel (or "mixed")
models (GAMMs), with the support for additive models still being
experimental. Note that the term "generalized" includes the Gaussian family
as well.</p>
<p>The package is compatible with <span class="pkg">rstanarm</span> and <span class="pkg">brms</span>, but developers
of other packages are welcome to add new <code><a href="refmodel-init-get.html">get_refmodel()</a></code> methods (which
enable the compatibility of their packages with <span class="pkg">projpred</span>). Custom
reference models can also be used via <code><a href="refmodel-init-get.html">init_refmodel()</a></code>. It is via custom
reference models that <span class="pkg">projpred</span> supports the projection onto candidate
models whose predictor terms are not a subset of the reference model's
predictor terms. However, for <span class="pkg">rstanarm</span> and <span class="pkg">brms</span> reference models,
<span class="pkg">projpred</span> only supports the projection onto <em>submodels</em> of the reference
model. For the sake of simplicity, throughout this package, we use the term
"submodel" for all kinds of candidate models onto which the reference model
is projected, even though this term is not always appropriate for custom
reference models.</p>
<p>Currently, the supported families are <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian()</a></code>, <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial()</a></code> (and---via
<code><a href="https://rdrr.io/pkg/brms/man/get_refmodel.brmsfit.html" class="external-link">brms::get_refmodel.brmsfit()</a></code>---also <code><a href="https://rdrr.io/pkg/brms/man/brmsfamily.html" class="external-link">brms::bernoulli()</a></code>), as well as
<code><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson()</a></code>.</p>
<p>The projection of the reference model onto a submodel can be run on multiple
CPU cores in parallel (across the projected draws). This is powered by the
<span class="pkg">foreach</span> package. Thus, you can use any parallel (or sequential) backend
compatible with <span class="pkg">foreach</span>, e.g., the backends from packages
<span class="pkg">doParallel</span>, <span class="pkg">doMPI</span>, or <span class="pkg">doFuture</span>. Using the global option
<code>projpred.prll_prj_trigger</code>, you can modify the number of projected draws
below which no parallelization is used (even if a parallel backend is
registered). Such a "trigger" threshold exists because of the computational
overhead of a parallelization which makes parallelization only useful for a
sufficiently large number of projected draws. By default, parallelization is
turned off, which can also be achieved by supplying <code>Inf</code> (or <code>NULL</code>) to
option <code>projpred.prll_prj_trigger</code>. Note that we cannot recommend
parallelizing the projection on Windows because in our experience, the
parallelization overhead is larger there, causing a parallel run to take
longer than a sequential run. Also note that the parallelization works well
for GLMs, but for GLMMs, GAMs, and GAMMs, the fitted model objects are quite
big, which---when running in parallel---may lead to an excessive memory usage
which in turn may crash the R session. Thus, we currently cannot recommend
the parallelization for GLMMs, GAMs, and GAMMs.</p>
<p>The <a href="https://mc-stan.org/projpred/articles/">vignettes</a> (currently, there is
only a single one) illustrate how to use the <span class="pkg">projpred</span> functions in
conjunction. Shorter examples are included here in the documentation.</p>
<p>Some references relevant for this package are given in section "References"
below. See <code>citation(package = "projpred")</code> for details on citing
<span class="pkg">projpred</span>.</p>
    </div>


    <div id="functions">
    <h2>Functions</h2>
    
<dl><dt><code><a href="refmodel-init-get.html">init_refmodel()</a></code>, <code><a href="refmodel-init-get.html">get_refmodel()</a></code></dt>
<dd><p>For setting up a reference model
(only rarely needed explicitly).</p></dd>

<dt><code><a href="varsel.html">varsel()</a></code>, <code><a href="cv_varsel.html">cv_varsel()</a></code></dt>
<dd><p>For variable selection, possibly with
cross-validation (CV).</p></dd>

<dt><code><a href="summary.vsel.html">summary.vsel()</a></code>, <code><a href="print.vsel.html">print.vsel()</a></code>, <code><a href="plot.vsel.html">plot.vsel()</a></code>,
<code><a href="suggest_size.html">suggest_size.vsel()</a></code>, <code><a href="solution_terms.html">solution_terms.vsel()</a></code></dt>
<dd><p>For post-processing the
results from the variable selection.</p></dd>

<dt><code><a href="project.html">project()</a></code></dt>
<dd><p>For projecting the reference model onto submodel(s).
Typically, this follows the variable selection, but it can also be applied
directly (without a variable selection).</p></dd>

<dt><code><a href="as.matrix.projection.html">as.matrix.projection()</a></code></dt>
<dd><p>For extracting projected parameter draws.</p></dd>

<dt><code><a href="pred-projection.html">proj_linpred()</a></code>, <code><a href="pred-projection.html">proj_predict()</a></code></dt>
<dd><p>For making predictions from a
submodel (after projecting the reference model onto it).</p></dd>


</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Goutis, C. and Robert, C. P. (1998). Model choice in generalised linear
models: A Bayesian approach via Kullback–Leibler projections. <em>Biometrika</em>,
<strong>85</strong>(1):29–37.</p>
<p>Dupuis, J. A. and Robert, C. P. (2003). Variable selection in qualitative
models via an entropic explanatory power. <em>Journal of Statistical Planning
and Inference</em>, <strong>111</strong>(1-2):77–94. doi: <a href="https://doi.org/10.1016/S0378-3758(02)00286-0" class="external-link">10.1016/S0378-3758(02)00286-0</a>
.</p>
<p>Piironen, J. and Vehtari, A. (2017). Comparison of Bayesian predictive
methods for model selection. <em>Statistics and Computing</em>, <strong>27</strong>(3):711-735.
doi: <a href="https://doi.org/10.1007/s11222-016-9649-y" class="external-link">10.1007/s11222-016-9649-y</a>
.</p>
<p>Piironen, J., Paasiniemi, M., and Vehtari, A. (2020). Projective inference in
high-dimensional problems: Prediction and feature selection. <em>Electronic
Journal of Statistics</em>, <strong>14</strong>(1):2155-2197. doi: <a href="https://doi.org/10.1214/20-EJS1711" class="external-link">10.1214/20-EJS1711</a>
.</p>
<p>Catalina, A., Bürkner, P.-C., and Vehtari, A. (2020). Projection predictive
inference for generalized linear and additive multilevel models.
<em>arXiv:2010.06994</em>. URL: <a href="https://arxiv.org/abs/2010.06994" class="external-link">https://arxiv.org/abs/2010.06994</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://mc-stan.org/projpred/">https://mc-stan.org/projpred/</a></p></li>
<li><p><a href="https://discourse.mc-stan.org" class="external-link">https://discourse.mc-stan.org</a></p></li>
<li><p>Report bugs at <a href="https://github.com/stan-dev/projpred/issues/" class="external-link">https://github.com/stan-dev/projpred/issues/</a></p></li>
</ul></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p><strong>Maintainer</strong>: Frank Weber <a href="mailto:fweber144@protonmail.com">fweber144@protonmail.com</a></p>
<p>Authors:</p><ul><li><p>Juho Piironen <a href="mailto:juho.t.piironen@gmail.com">juho.t.piironen@gmail.com</a></p></li>
<li><p>Markus Paasiniemi</p></li>
<li><p>Alejandro Catalina <a href="mailto:alecatfel@gmail.com">alecatfel@gmail.com</a></p></li>
<li><p>Aki Vehtari</p></li>
</ul><p>Other contributors:</p><ul><li><p>Jonah Gabry [contributor]</p></li>
<li><p>Marco Colombo [contributor]</p></li>
<li><p>Paul-Christian Bürkner [contributor]</p></li>
<li><p>Hamada S. Badr [contributor]</p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Juho Piironen, Markus Paasiniemi, Alejandro Catalina,
Frank Weber, Aki Vehtari.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

