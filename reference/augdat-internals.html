<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Augmented-data projection: Internals — augdat-internals • projpred</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer"><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Augmented-data projection: Internals — augdat-internals"><meta name="description" content="The augmented-data projection makes extensive use of augmented-rows
matrices and augmented-length vectors. In the following, \(N\),
\(C_{\mathrm{cat}}\), \(C_{\mathrm{lat}}\),
\(S_{\mathrm{ref}}\), and \(S_{\mathrm{prj}}\) from help
topic refmodel-init-get are used. Furthermore, let \(C\) denote either
\(C_{\mathrm{cat}}\) or \(C_{\mathrm{lat}}\), whichever is
appropriate in the context where it is used (e.g., for ref_predfun's
output, \(C = C_{\mathrm{lat}}\)). Similarly, let \(S\) denote
either \(S_{\mathrm{ref}}\) or \(S_{\mathrm{prj}}\),
whichever is appropriate in the context where it is used. Then an
augmented-rows matrix is a matrix with \(N \cdot C\) rows in \(C\)
blocks of \(N\) rows, i.e., with the \(N\) observations nested in the
\(C\) (possibly latent) response categories. For ordered response
categories, the \(C\) (possibly latent) response categories (i.e., the row
blocks) have to be sorted increasingly. The columns of an augmented-rows
matrix have to correspond to the \(S\) parameter draws, just like for the
traditional projection. An augmented-rows matrix is of class augmat
(inheriting from classes matrix and array) and needs to have the value of
\(C\) stored in an attribute called ndiscrete. An augmented-length vector
(class augvec) is the vector resulting from subsetting an augmented-rows
matrix to extract a single column and thereby dropping dimensions."><meta property="og:description" content="The augmented-data projection makes extensive use of augmented-rows
matrices and augmented-length vectors. In the following, \(N\),
\(C_{\mathrm{cat}}\), \(C_{\mathrm{lat}}\),
\(S_{\mathrm{ref}}\), and \(S_{\mathrm{prj}}\) from help
topic refmodel-init-get are used. Furthermore, let \(C\) denote either
\(C_{\mathrm{cat}}\) or \(C_{\mathrm{lat}}\), whichever is
appropriate in the context where it is used (e.g., for ref_predfun's
output, \(C = C_{\mathrm{lat}}\)). Similarly, let \(S\) denote
either \(S_{\mathrm{ref}}\) or \(S_{\mathrm{prj}}\),
whichever is appropriate in the context where it is used. Then an
augmented-rows matrix is a matrix with \(N \cdot C\) rows in \(C\)
blocks of \(N\) rows, i.e., with the \(N\) observations nested in the
\(C\) (possibly latent) response categories. For ordered response
categories, the \(C\) (possibly latent) response categories (i.e., the row
blocks) have to be sorted increasingly. The columns of an augmented-rows
matrix have to correspond to the \(S\) parameter draws, just like for the
traditional projection. An augmented-rows matrix is of class augmat
(inheriting from classes matrix and array) and needs to have the value of
\(C\) stored in an attribute called ndiscrete. An augmented-length vector
(class augvec) is the vector resulting from subsetting an augmented-rows
matrix to extract a single column and thereby dropping dimensions."><meta property="og:image" content="https://mc-stan.org/projpred/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      projpred
    </a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://mc-stan.org/bayesplot">bayesplot</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/cmdstanr">cmdstanr</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstanarm">rstanarm</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/projpred/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Augmented-data projection: Internals</h1>
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/projpred/blob/master/R/augdat.R" class="external-link"><code>R/augdat.R</code></a></small>
      <div class="d-none name"><code>augdat-internals.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The augmented-data projection makes extensive use of <em>augmented-rows
matrices</em> and <em>augmented-length vectors</em>. In the following, \(N\),
\(C_{\mathrm{cat}}\), \(C_{\mathrm{lat}}\),
\(S_{\mathrm{ref}}\), and \(S_{\mathrm{prj}}\) from help
topic <a href="refmodel-init-get.html">refmodel-init-get</a> are used. Furthermore, let \(C\) denote either
\(C_{\mathrm{cat}}\) or \(C_{\mathrm{lat}}\), whichever is
appropriate in the context where it is used (e.g., for <code>ref_predfun</code>'s
output, \(C = C_{\mathrm{lat}}\)). Similarly, let \(S\) denote
either \(S_{\mathrm{ref}}\) or \(S_{\mathrm{prj}}\),
whichever is appropriate in the context where it is used. Then an
augmented-rows matrix is a matrix with \(N \cdot C\) rows in \(C\)
blocks of \(N\) rows, i.e., with the \(N\) observations nested in the
\(C\) (possibly latent) response categories. For ordered response
categories, the \(C\) (possibly latent) response categories (i.e., the row
blocks) have to be sorted increasingly. The columns of an augmented-rows
matrix have to correspond to the \(S\) parameter draws, just like for the
traditional projection. An augmented-rows matrix is of class <code>augmat</code>
(inheriting from classes <code>matrix</code> and <code>array</code>) and needs to have the value of
\(C\) stored in an attribute called <code>ndiscrete</code>. An augmented-length vector
(class <code>augvec</code>) is the vector resulting from subsetting an augmented-rows
matrix to extract a single column and thereby dropping dimensions.</p>
    </div>



  </main></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Juho Piironen, Markus Paasiniemi, Alejandro Catalina, Frank Weber, Osvaldo Martin, Aki Vehtari.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

