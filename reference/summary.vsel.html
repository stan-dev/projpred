<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Summary statistics of a variable selection — summary.vsel • projpred</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Summary statistics of a variable selection — summary.vsel"><meta property="og:description" content="This is the summary() method for vsel objects (returned by varsel() or
cv_varsel())."><meta property="og:image" content="https://mc-stan.org/projpred/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projpred</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://mc-stan.org/rstan" class="external-link">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/cmdstanr" class="external-link">cmdstanr</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm" class="external-link">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/bayesplot" class="external-link">bayesplot</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan" class="external-link">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo" class="external-link">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools" class="external-link">rstantools</a>
    </li>
    <li>
      <a href="https://mc-stan.org/posterior" class="external-link">posterior</a>
    </li>
  </ul></li>
<li>
  <a href="https://mc-stan.org" class="external-link">Stan</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://twitter.com/mcmc_stan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/projpred/" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summary statistics of a variable selection</h1>
    <small class="dont-index">Source: <a href="https://github.com/stan-dev/projpred/blob/HEAD/R/methods.R" class="external-link"><code>R/methods.R</code></a></small>
    <div class="hidden name"><code>summary.vsel.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method for <code>vsel</code> objects (returned by <code><a href="varsel.html">varsel()</a></code> or
<code><a href="cv_varsel.html">cv_varsel()</a></code>).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for vsel</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  nterms_max <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stats <span class="op">=</span> <span class="st">"elpd"</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"se"</span>, <span class="st">"diff"</span>, <span class="st">"diff.se"</span><span class="op">)</span>,</span>
<span>  deltas <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  baseline <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">refmodel</span>, <span class="st">"datafit"</span><span class="op">)</span><span class="op">)</span> <span class="st">"ref"</span> <span class="kw">else</span> <span class="st">"best"</span>,</span>
<span>  resp_oscale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>An object of class <code>vsel</code> (returned by <code><a href="varsel.html">varsel()</a></code> or
<code><a href="cv_varsel.html">cv_varsel()</a></code>).</p></dd>


<dt>nterms_max</dt>
<dd><p>Maximum submodel size for which the statistics are
calculated. Using <code>NULL</code> is effectively the same as using
<code>length(solution_terms(object))</code>. Note that <code>nterms_max</code> does not count the
intercept, so use <code>nterms_max = 0</code> for the intercept-only model. For
<code><a href="plot.vsel.html">plot.vsel()</a></code>, <code>nterms_max</code> must be at least <code>1</code>.</p></dd>


<dt>stats</dt>
<dd><p>One or more character strings determining which performance
statistics (i.e., utilities or losses) to estimate based on the
observations in the evaluation (or "test") set (in case of
cross-validation, these are all observations because they are partitioned
into multiple test sets; in case of <code><a href="varsel.html">varsel()</a></code> with <code>d_test = NULL</code>, these
are again all observations because the test set is the same as the training
set). Available statistics are:</p><ul><li><p><code>"elpd"</code>: expected log (pointwise) predictive density (for a new
dataset). Estimated by the sum of the observation-specific log predictive
density values (with each of these predictive density values being
a---possibly weighted---average across the parameter draws).</p></li>
<li><p><code>"mlpd"</code>: mean log predictive density, that is, <code>"elpd"</code> divided by the
number of observations.</p></li>
<li><p><code>"mse"</code>: mean squared error (only available in the situations mentioned
in section "Details" below).</p></li>
<li><p><code>"rmse"</code>: root mean squared error (only available in the situations
mentioned in section "Details" below). For the corresponding standard error
and lower and upper confidence interval bounds, bootstrapping is used.</p></li>
<li><p><code>"acc"</code> (or its alias, <code>"pctcorr"</code>): classification accuracy (only
available in the situations mentioned in section "Details" below).</p></li>
<li><p><code>"auc"</code>: area under the ROC curve (only available in the situations
mentioned in section "Details" below). For the corresponding standard error
and lower and upper confidence interval bounds, bootstrapping is used.</p></li>
</ul></dd>


<dt>type</dt>
<dd><p>One or more items from <code>"mean"</code>, <code>"se"</code>, <code>"lower"</code>, <code>"upper"</code>,
<code>"diff"</code>, and <code>"diff.se"</code> indicating which of these to compute for each
item from <code>stats</code> (mean, standard error, lower and upper confidence
interval bounds, mean difference to the corresponding statistic of the
reference model, and standard error of this difference, respectively). The
confidence interval bounds belong to normal-approximation (or bootstrap;
see argument <code>stats</code>) confidence intervals with (nominal) coverage <code>1 - alpha</code>. Items <code>"diff"</code> and <code>"diff.se"</code> are only supported if <code>deltas</code> is
<code>FALSE</code>.</p></dd>


<dt>deltas</dt>
<dd><p>If <code>TRUE</code>, the submodel statistics are estimated as differences
from the baseline model (see argument <code>baseline</code>). With a "difference
<em>from</em> the baseline model", we mean to take the submodel statistic minus
the baseline model statistic (not the other way round).</p></dd>


<dt>alpha</dt>
<dd><p>A number determining the (nominal) coverage <code>1 - alpha</code> of the
normal-approximation (or bootstrap; see argument <code>stats</code>) confidence
intervals. For example, in case of the normal approximation, <code>alpha = 2 * pnorm(-1)</code> corresponds to a confidence interval stretching by one standard
error on either side of the point estimate.</p></dd>


<dt>baseline</dt>
<dd><p>For <code>summary.vsel()</code>: Only relevant if <code>deltas</code> is <code>TRUE</code>.
For <code><a href="plot.vsel.html">plot.vsel()</a></code>: Always relevant. Either <code>"ref"</code> or <code>"best"</code>, indicating
whether the baseline is the reference model or the best submodel found (in
terms of <code>stats[1]</code>), respectively.</p></dd>


<dt>resp_oscale</dt>
<dd><p>Only relevant for the latent projection. A single logical
value indicating whether to calculate the performance statistics on the
original response scale (<code>TRUE</code>) or on latent scale (<code>FALSE</code>).</p></dd>


<dt>...</dt>
<dd><p>Arguments passed to the internal function which is used for
bootstrapping (if applicable; see argument <code>stats</code>). Currently, relevant
arguments are <code>B</code> (the number of bootstrap samples, defaulting to <code>2000</code>)
and <code>seed</code> (see <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>, defaulting to
<code>sample.int(.Machine$integer.max, 1)</code>, but can also be <code>NA</code> to not call
<code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> at all).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <code>vselsummary</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>stats</code> options <code>"mse"</code> and <code>"rmse"</code> are only available for:</p><ul><li><p>the traditional projection,</p></li>
<li><p>the latent projection with <code>resp_oscale = FALSE</code>,</p></li>
<li><p>the latent projection with <code>resp_oscale = TRUE</code> in combination with
<code>&lt;refmodel&gt;$family$cats</code> being <code>NULL</code>.</p></li>
</ul><p>The <code>stats</code> option <code>"acc"</code> (= <code>"pctcorr"</code>) is only available for:</p><ul><li><p>the <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial()</a></code> family in case of the traditional projection,</p></li>
<li><p>all families in case of the augmented-data projection,</p></li>
<li><p>the <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial()</a></code> family (on the original response scale) in case of the
latent projection with <code>resp_oscale = TRUE</code> in combination with
<code>&lt;refmodel&gt;$family$cats</code> being <code>NULL</code>,</p></li>
<li><p>all families (on the original response scale) in case of the latent
projection with <code>resp_oscale = TRUE</code> in combination with
<code>&lt;refmodel&gt;$family$cats</code> being not <code>NULL</code>.</p></li>
</ul><p>The <code>stats</code> option <code>"auc"</code> is only available for:</p><ul><li><p>the <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial()</a></code> family in case of the traditional projection,</p></li>
<li><p>the <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial()</a></code> family (on the original response scale) in case of the
latent projection with <code>resp_oscale = TRUE</code> in combination with
<code>&lt;refmodel&gt;$family$cats</code> being <code>NULL</code>.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="print.vselsummary.html">print.vselsummary()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"rstanarm"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Data:</span></span></span>
<span class="r-in"><span>  <span class="va">dat_gauss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">df_gaussian</span><span class="op">$</span><span class="va">y</span>, <span class="va">df_gaussian</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># The "stanreg" fit which will be used as the reference model (with small</span></span></span>
<span class="r-in"><span>  <span class="co"># values for `chains` and `iter`, but only for technical reasons in this</span></span></span>
<span class="r-in"><span>  <span class="co"># example; this is not recommended in general):</span></span></span>
<span class="r-in"><span>  <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">rstanarm</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html" class="external-link">stan_glm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">y</span> <span class="op">~</span> <span class="va">X1</span> <span class="op">+</span> <span class="va">X2</span> <span class="op">+</span> <span class="va">X3</span> <span class="op">+</span> <span class="va">X4</span> <span class="op">+</span> <span class="va">X5</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian</a></span><span class="op">(</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">dat_gauss</span>,</span></span>
<span class="r-in"><span>    QR <span class="op">=</span> <span class="cn">TRUE</span>, chains <span class="op">=</span> <span class="fl">2</span>, iter <span class="op">=</span> <span class="fl">500</span>, refresh <span class="op">=</span> <span class="fl">0</span>, seed <span class="op">=</span> <span class="fl">9876</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Variable selection (here without cross-validation and with small values</span></span></span>
<span class="r-in"><span>  <span class="co"># for `nterms_max`, `nclusters`, and `nclusters_pred`, but only for the</span></span></span>
<span class="r-in"><span>  <span class="co"># sake of speed in this example; this is not recommended in general):</span></span></span>
<span class="r-in"><span>  <span class="va">vs</span> <span class="op">&lt;-</span> <span class="fu"><a href="varsel.html">varsel</a></span><span class="op">(</span><span class="va">fit</span>, nterms_max <span class="op">=</span> <span class="fl">3</span>, nclusters <span class="op">=</span> <span class="fl">5</span>, nclusters_pred <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>               seed <span class="op">=</span> <span class="fl">5555</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">vs</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Running the search ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> For performance evaluation: Re-projecting onto the submodels along the solution path ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Family: gaussian </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Link function: identity </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Formula: y ~ X1 + X2 + X3 + X4 + X5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Projection method: traditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Search method: L1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum submodel size for the search: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of projected draws in the search: 1 (from clustered projection)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of projected draws in the performance evaluation: 10 (from clustered projection)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Performance evaluation summary with `deltas = FALSE`:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  size solution_terms elpd se  diff diff.se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0           &lt;NA&gt; -249  5 -39.1     5.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1             X1 -231  6 -20.5     4.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2             X5 -220  6  -9.7     3.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3             X3 -211  7  -0.4     0.9</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Juho Piironen, Markus Paasiniemi, Alejandro Catalina, Frank Weber, Aki Vehtari.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

