<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • projpred</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://mc-stan.org/projpred/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">projpred</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://mc-stan.org/rstan" class="external-link">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/cmdstanr" class="external-link">cmdstanr</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm" class="external-link">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/bayesplot" class="external-link">bayesplot</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan" class="external-link">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo" class="external-link">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools" class="external-link">rstantools</a>
    </li>
    <li>
      <a href="https://mc-stan.org/posterior" class="external-link">posterior</a>
    </li>
  </ul></li>
<li>
  <a href="https://mc-stan.org" class="external-link">Stan</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://twitter.com/mcmc_stan" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/projpred/" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/stan-dev/projpred/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="2.8.0" id="projpred-280">projpred 2.8.0<small>2023-12-14</small><a class="anchor" aria-label="anchor" href="#projpred-280"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-8-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-8-0"></a></h3>
<ul><li>Search results generated in an earlier <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> call can now be re-used by the help of the new <code><a href="../reference/varsel.html">varsel.vsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel.vsel()</a></code> methods (i.e., by applying <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> to the output of the earlier <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> call). This can save a lot of time when re-running the predictive performance evaluation part multiple times based on the same search results. An illustration may be found in the updated main vignette (section <a href="https://mc-stan.org/projpred/articles/projpred.html#preliminary-cv_varsel-run">“Preliminary <code>cv_varsel()</code> run”</a>; a more general description may also be found in section <a href="https://mc-stan.org/projpred/articles/projpred.html#speed">“Speed”</a>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/461" class="external-link">#461</a>, <a href="https://github.com/stan-dev/projpred/issues/463" class="external-link">#463</a>, <a href="https://github.com/stan-dev/projpred/issues/465" class="external-link">#465</a>, <a href="https://github.com/stan-dev/projpred/issues/466" class="external-link">#466</a>)</li>
<li>K-fold CV can now be combined with <code>validate_search = FALSE</code>. Related to this is an internal change which may cause subsampled PSIS-LOO CV (an experimental feature controlled by argument <code>nloo</code> of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>) with clustered projection during the search (i.e., <code>1 &lt; nclusters &amp;&amp; nclusters &lt; S</code>, where <code>S</code> denotes the number of posterior draws in the reference model) to yield slightly different results due to different internal pseudorandom number generator (PRNG) states. Furthermore, if <code>is.na(seed)</code>, then the PRNG state for code downstream of such a <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> call will be different due to this internal change. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/464" class="external-link">#464</a>)</li>
<li>
<code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> (and hence also <code><a href="../reference/print.vsel.html">print.vsel()</a></code>) now prints the reference model’s performance evaluation results as well (not just those of the submodels). Correspondingly, a new helper function <code><a href="../reference/performances.html">performances()</a></code> has been added which allows to access the reference model’s (as well as the submodels’) performance evaluation results. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/471" class="external-link">#471</a>)</li>
<li>Argument <code>solution_terms</code> of <code><a href="../reference/project.html">project()</a></code> has been deprecated. Please use the new argument <code>predictor_terms</code> instead. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/472" class="external-link">#472</a>)</li>
<li>For expert users of the augmented-data projection only: Objects of class <code>augmat</code> or <code>augvec</code> do not need to have an attribute called <code>nobs_orig</code> anymore, but a new attribute called <code>ndiscrete</code>, giving the number of (possibly latent) response categories instead of the number of observations (see <code><a href="../reference/augdat-internals.html">?`augdat-internals`</a></code>). This simplifies the subsetting of such objects. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/473" class="external-link">#473</a>)</li>
<li>By default, <strong>projpred</strong> now catches messages and warnings from the draw-wise divergence minimizers and throws their unique collection after performing all draw-wise divergence minimizations (i.e., draw-wise projections). This can be deactivated by setting global option <code>projpred.warn_prj_drawwise</code> to <code>FALSE</code>. Previously, <strong>projpred</strong> suppressed such messages and warnings. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/478" class="external-link">#478</a>)</li>
<li>By default, <strong>projpred</strong> now checks the convergence of the draw-wise divergence minimizers and throws a warning in case of potential convergence problems. This can be deactivated by setting global option <code>projpred.check_conv</code> to <code>FALSE</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/478" class="external-link">#478</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-8-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-8-0"></a></h3>
<ul><li>In <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code>, <code>nm_scheme = "auto"</code> is deprecated. Please use <code>nm_scheme = NULL</code> instead.</li>
<li>The plot produced by <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> now includes a title and a subtitle, with the subtitle mentioning the nominal coverage as well as the type of the confidence intervals (CIs) explicitly. However, in case of a facetted plot (i.e., in case of multiple <code>stats</code>) and some <code>stats</code> implying a different CI type than other <code>stats</code>, the CI types are omitted (because mentioning them would make the subtitle too complicated). Note that title and subtitle can always be omitted with <code>&lt;plot.vsel() output object&gt; + ggplot2::labs(title = NULL, subtitle = NULL)</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/468" class="external-link">#468</a>)</li>
<li>
<code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> has gained a new argument <code>show_cv_proportions</code>, allowing to omit the CV ranking proportions. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/470" class="external-link">#470</a>)</li>
<li>Renamed <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code>’s output element <code>selection</code> to <code>perf_sub</code> and made the names of this <code>data.frame</code>’s columns more consistent so that it is easier to handle that <code>data.frame</code> programmatically. This should not be a breaking change because elements of <code>vselsummary</code> objects (i.e., elements of objects returned by <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code>) are not meant to be accessed directly (for elements <code>perf_sub</code> and <code>perf_ref</code>, the new helper function <code><a href="../reference/performances.html">performances()</a></code> has been added, see “Major changes” above). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/471" class="external-link">#471</a>)</li>
<li>In <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code> and <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code>, the <code>NA_character_</code> “string” (which was previously used as a placeholder for the predictor term of the intercept-only model at size <code>0</code>) was replaced by the string <code>"(Intercept)"</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/471" class="external-link">#471</a>)</li>
<li>Renamed <code><a href="../reference/project.html">project()</a></code>’s output element <code>solution_terms</code> to <code>predictor_terms</code>. This should not be a breaking change because that element is meant to be accessed via <code><a href="../reference/predictor_terms.html">predictor_terms()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/472" class="external-link">#472</a>)</li>
<li>Renamed elements <code>solution_terms</code> and <code>solution_terms_cv</code> of <code>vsel</code> objects (returned by <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>) to <code>predictor_ranking</code> and <code>predictor_ranking_cv</code>, respectively. This should not be a breaking change because those elements are meant to be accessed via <code><a href="../reference/ranking.html">ranking()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/472" class="external-link">#472</a>)</li>
<li>Global option <code>projpred.verbose_project</code> now affects the verbosity of <em>all</em> projections performed by the built-in divergence minimizers (except for the built-in L1-projection divergence minimizer). In particular, the divergence minimizer (no matter whether built-in or user-specified) is also employed when calling <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>, so setting option <code>projpred.verbose_project</code> to <code>TRUE</code> now shows the progress of the projections during a <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> call. Previously, that option only affected the projections performed through <code><a href="../reference/project.html">project()</a></code> (see the default for <code><a href="../reference/project.html">project()</a></code>’s argument <code>verbose</code>). Usually, setting <code>projpred.verbose_project</code> to <code>TRUE</code> only makes sense when setting global option <code>projpred.extra_verbose</code> and argument <code>verbose</code> (of <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>) to <code>TRUE</code> as well.</li>
<li>Added <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> methods for objects of class <code>refmodel</code> and <code>projection</code>, mainly to avoid cluttering the console when printing such objects accidentally.</li>
<li>Argument <code>extract_model_data</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> is now allowed to be <code>NULL</code> for using an internal default.</li>
<li>
<code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> and <code><a href="../reference/print.vsel.html">print.vsel()</a></code> now use a minimum number of significant digits of <code>2</code> by default. The previous behavior can be restored by setting <code>options(projpred.digits = getOption("digits"))</code>.</li>
<li>Added a new performance statistic, the geometric mean predictive density (GMPD). This is particularly useful for discrete outcomes because there, the GMPD is a geometric mean of probabilities and hence bounded by zero and one. For details, see argument <code>stats</code> of the <code><a href="../reference/summary.vsel.html">?summary.vsel</a></code> help. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/476" class="external-link">#476</a>)</li>
<li>
<code><a href="../reference/project.html">project()</a></code>’s argument <code>verbose</code> now gets passed to argument <code>verbose_divmin</code> (not <code>projpred_verbose</code>) of the divergence minimizer function (see argument <code>div_minimizer</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>).</li>
<li>Arguments <code>lambda_min_ratio</code>, <code>nlambda</code>, and <code>thresh</code> of <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> have been deprecated. Instead, <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> have gained a new argument called <code>search_control</code> which accepts control arguments for the search as a <code>list</code>. Thus, former arguments <code>lambda_min_ratio</code>, <code>nlambda</code>, and <code>thresh</code> should now be specified via <code>search_control</code> (but note that <code>search_control</code> is more general because it also accepts control arguments for a <em>forward</em> search). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/477" class="external-link">#477</a>)</li>
<li>
<code><a href="../reference/run_cvfun.html">run_cvfun()</a></code> has gained a new argument <code>folds</code>, accepting a vector of fold indices (the default is <code>NULL</code>, meaning that the folds are constructed internally, as before). This new argument is helpful, for example, to perform a stratified K-fold CV in a convenient manner (an example of this has been added to the <code><a href="../reference/run_cvfun.html">?run_cvfun</a></code> help). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/480" class="external-link">#480</a>)</li>
<li>
<code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> has gained a new argument <code>size_position</code>. Setting it to <code>"primary_x_top"</code> moves the text for the submodel sizes <em>above</em> the x-axis. Setting it to <code>"secondary_x"</code> moves that text into a secondary x-axis located at the top of the plot. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/484" class="external-link">#484</a>)</li>
<li>The default alignments of the x-axis text in <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> have been changed: x-axis text is now right-aligned (left-aligned) for <code>text_angle &gt; 0</code> (<code>&lt; 0</code>) and also top-aligned for <code>-90 &lt; text_angle &amp;&amp; text_angle &lt; 90 &amp;&amp; text_angle != 0</code>. We emphasize that alignments can always be customized with <code>&lt;plot.vsel() output object&gt; + ggplot2::theme(axis.text.x.bottom = ggplot2::element_text(hjust = &lt;hjust_value&gt;, vjust = &lt;vjust_value&gt;))</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/484" class="external-link">#484</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-8-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-8-0"></a></h3>
<ul><li>Fixed a bug sometimes causing <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> to produce extra (“empty”) ticks on the x-axis. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/462" class="external-link">#462</a>)</li>
<li>Fixed a bug in <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code> and <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> causing bootstrap results (i.e., standard error and confidence interval for RMSE and AUC) to be incorrect if <code>deltas = TRUE</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/474" class="external-link">#474</a>)</li>
<li>Fixed several bugs in <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code> and <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> sometimes causing incorrect predictive performance results in case of subsampled PSIS-LOO CV (an experimental feature controlled by argument <code>nloo</code> of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/475" class="external-link">#475</a>)</li>
<li>Fixed backward compatibility for the legacy structure of <code>cvfits</code> (the new structure was introduced by version 2.7.0, see GitHub pull request <a href="https://github.com/stan-dev/projpred/issues/456" class="external-link">#456</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.7.0" id="projpred-270">projpred 2.7.0<small>2023-09-30</small><a class="anchor" aria-label="anchor" href="#projpred-270"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-7-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-7-0"></a></h3>
<ul><li><p>The default search <code>method</code> is now <code>"forward"</code> search for all kinds of models (previously, <code>"L1"</code> search was used by default where available). The reason for this change is that in general, forward search is more favorable compared to L1 search (see section “Details” in <code><a href="../reference/varsel.html">?varsel</a></code> or <code><a href="../reference/cv_varsel.html">?cv_varsel</a></code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/453" class="external-link">#453</a>, <a href="https://github.com/stan-dev/projpred/issues/459" class="external-link">#459</a>)</p></li>
<li>
<p>Several enhancements with respect to projected draws with different (i.e., nonconstant) weights, which typically occurs in case of clustered projection (GitHub: <a href="https://github.com/stan-dev/projpred/issues/206" class="external-link">#206</a>, <a href="https://github.com/stan-dev/projpred/issues/439" class="external-link">#439</a>):</p>
<ul><li>
<code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> now throws an error if the projected draws have nonconstant weights. (This error is the default behavior; it can be avoided by setting the new argument <code>allow_nonconst_wdraws_prj</code> to <code>TRUE</code>, but this is for expert use only because in that case, the weights of the projected draws are stored in an attribute <code>wdraws_prj</code> and handling this attribute requires special care, e.g., when subsetting the returned matrix.) Instead, a <code><a href="https://mc-stan.org/posterior/reference/draws_matrix.html" class="external-link">posterior::as_draws_matrix()</a></code> method (<code><a href="../reference/as_draws_matrix.projection.html">as_draws_matrix.projection()</a></code>) has been added which allows for a safer handling of these weights (e.g., with the help of <code><a href="https://mc-stan.org/posterior/reference/resample_draws.html" class="external-link">posterior::resample_draws()</a></code>, see section “Examples” of the <code><a href="../reference/as_draws_matrix.projection.html">?as_draws_matrix.projection</a></code> help). Just like <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code>, <code><a href="../reference/as_draws_matrix.projection.html">as_draws_matrix.projection()</a></code> also works for the more common case of projected draws with constant weights. A <code><a href="https://mc-stan.org/posterior/reference/draws.html" class="external-link">posterior::as_draws()</a></code> method (<code><a href="../reference/as_draws_matrix.projection.html">as_draws.projection()</a></code>) has also been added, but this is merely a wrapper for <code><a href="../reference/as_draws_matrix.projection.html">as_draws_matrix.projection()</a></code>.</li>
<li>
<code><a href="../reference/pred-projection.html">proj_linpred()</a></code> now also throws an error (by default) if the projected draws have nonconstant weights and has gained the new arguments <code>allow_nonconst_wdraws_prj</code> and <code>return_draws_matrix</code>. As in <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code>, argument <code>allow_nonconst_wdraws_prj</code> is for expert use only. Instead, <code>return_draws_matrix</code> is the intended argument in case of projected draws with nonconstant weights. Similarly to <code><a href="../reference/as_draws_matrix.projection.html">as_draws_matrix.projection()</a></code>, it requires the <strong>posterior</strong> package and returns a <code>draws_matrix</code> (with weighted draws if the projected draws have nonconstant weights and <code>integrated</code> is <code>FALSE</code>).</li>
<li>
<code><a href="../reference/pred-projection.html">proj_predict()</a></code> has gained an argument <code>return_draws_matrix</code> for converting the returned matrix to a <code>draws_matrix</code> (which again requires the <strong>posterior</strong> package). For <code><a href="../reference/pred-projection.html">proj_predict()</a></code>, no further modifications were necessary because its argument <code>nresample_clusters</code> already takes weights of projected draws appropriately into account.</li>
</ul></li>
<li><p>Added helper function <code><a href="../reference/run_cvfun.html">run_cvfun()</a></code> which can be used to create input for <code><a href="../reference/cv_varsel.html">cv_varsel.refmodel()</a></code>’s new argument <code>cvfits</code> (which is the same as <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>’s argument <code>cvfits</code>, but avoids having to call <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> or <code><a href="../reference/refmodel-init-get.html">get_refmodel()</a></code> twice). See the documentation of <code><a href="../reference/run_cvfun.html">run_cvfun()</a></code> for details. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/458" class="external-link">#458</a>)</p></li>
<li><p>Users applying <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> to an object of class <code>vsel</code> now need to use <code>varsel(get_refmodel(&lt;vsel_object&gt;), &lt;...&gt;)</code> or <code>cv_varsel(get_refmodel(&lt;vsel_object&gt;), &lt;...&gt;)</code> instead of <code>varsel(&lt;vsel_object&gt;, &lt;...&gt;)</code> and <code>cv_varsel(&lt;vsel_object&gt;, &lt;...&gt;)</code>, respectively. The reason is that new methods <code><a href="../reference/varsel.html">varsel.vsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel.vsel()</a></code> have been added. Currently, these are only placeholders, but in a future release, they will offer new functionality.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-7-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-7-0"></a></h3>
<ul><li><p>If an L1 search selects an interaction term before all involved lower-order interaction terms (including main-effect terms) have been selected, the predictor ranking is now automatically modified so that the lower-order interaction terms come before this interaction term. A corresponding warning is thrown, which may be deactivated by setting the global option <code>projpred.warn_L1_interactions</code> to <code>FALSE</code>. Previously, beginning with version 2.5.0, only a warning was thrown and this only if an L1 search selected an interaction term before all involved <em>main-effect</em> terms had been selected. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/420" class="external-link">#420</a>)</p></li>
<li><p>Added a progress bar for <code><a href="../reference/project.html">project()</a></code> (when using the built-in divergence minimizers). For this, <code><a href="../reference/project.html">project()</a></code> has gained a new argument <code>verbose</code> which can also be controlled via the global option <code>projpred.verbose_project</code>. By default, the new progress bar is activated. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/421" class="external-link">#421</a>)</p></li>
<li><p>Added a new argument <code>parallel</code> to <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>. With <code>parallel = TRUE</code>, costly parts of <strong>projpred</strong>’s cross-validation (CV) can be run in parallel. See the documentation of that new argument (and section “Note” of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>’s documentation) for details. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/422" class="external-link">#422</a>)</p></li>
<li><p>Added a warning for issue <a href="https://github.com/stan-dev/projpred/issues/323" class="external-link">#323</a> (for multilevel Gaussian models, the projection onto the full model can be instable). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/426" class="external-link">#426</a>)</p></li>
<li><p><code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> has gained the new arguments <code>point_size</code> and <code>bar_thickness</code> which control the size of the points and the thickness of the uncertainty bars, respectively. By default, the points are slightly larger now and the uncertainty bars slightly thicker than before. The previous appearance can be achieved by setting <code>point_size = 1.5</code> and <code>bar_thickness = 0.5</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/429" class="external-link">#429</a>, <a href="https://github.com/stan-dev/projpred/issues/443" class="external-link">#443</a>)</p></li>
<li><p><code><a href="../reference/plot.vsel.html">plot.vsel()</a></code>: Added argument <code>ranking_colored</code> for coloring the points and the uncertainty bars according to the magnitude of the (possibly cumulated) CV ranking proportions. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/430" class="external-link">#430</a>; thanks to <a href="https://github.com/yannmclatchie" class="external-link">@yannmclatchie</a> for the suggestion)</p></li>
<li><p>Added warnings for most of the problems described in section <a href="https://mc-stan.org/projpred/articles/projpred.html#troubleshooting">“Troubleshooting”</a> of the main vignette. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/431" class="external-link">#431</a>)</p></li>
<li><p>Output element <code>p_type</code> of <code><a href="../reference/project.html">project()</a></code> has been removed. Instead, output element <code>const_wdraws_prj</code> has been added, but its definition is essentially the inverse of former element <code>p_type</code> (see the updated documentation of <code><a href="../reference/project.html">project()</a></code>’s output). This should not be a breaking change for users (as <code>p_type</code> was mainly intended for internal use and the new element <code>const_wdraws_prj</code> is so, too) but this slightly enhances the cases where <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> used to throw a warning (and now throws an error; see “Major changes” above) concerning the weights of the projected draws and the cases where <code><a href="../reference/pred-projection.html">proj_predict()</a></code> resamples from the projected draws using argument <code>nresample_clusters</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/432" class="external-link">#432</a>)</p></li>
<li><p>Improved handling of PSIS-LOO CV warnings. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/438" class="external-link">#438</a>, <a href="https://github.com/stan-dev/projpred/issues/451" class="external-link">#451</a>)</p></li>
<li><p>Reduced peak memory usage during forward search. A global option <code>projpred.run_gc</code> has also been added, see the general package documentation (available <a href="https://mc-stan.org/projpred/reference/projpred-package.html">online</a> or by typing <code><a href="../reference/projpred-package.html">?`projpred-package`</a></code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/442" class="external-link">#442</a>)</p></li>
<li><p>Slightly improved efficiency in K-fold and PSIS-LOO CV, especially in case of a large number of observations. Under very special conditions (<code>refit_prj = FALSE</code>, <code>1 &lt; nclusters &amp;&amp; nclusters &lt; S</code>, and <code>1 &lt; nclusters_pred &amp;&amp; nclusters_pred &lt; S</code>; note that <code>1 &lt; nclusters</code> requires forward search, <code>S</code> denotes the number of posterior draws in the reference model, and <code>nclusters_pred</code> is essentially unused if <code>refit_prj = FALSE</code>), this change might affect K-fold CV results, due to a different pseudorandom number generator (PRNG) state in folds other than the first one. Under similarly special conditions (<code>refit_prj = FALSE</code> and <code>1 &lt; nclusters_pred &amp;&amp; nclusters_pred &lt; S</code>), the PRNG state for LOO subsampling (see argument <code>nloo</code>) is affected. Furthermore, if <code>is.na(seed)</code>, then the PRNG state for code downstream of such <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> calls will be different due to this change. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/446" class="external-link">#446</a>)</p></li>
<li><p>Slightly improved efficiency at the end of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>, especially in case of a large number of observations. If <code>is.na(seed)</code>, then the PRNG state for code downstream of a <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> call with <code>refit_prj = TRUE</code> and <code>1 &lt; nclusters_pred &amp;&amp; nclusters_pred &lt; S</code> (where <code>S</code> denotes the number of posterior draws in the reference model) will be different due to this change. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/447" class="external-link">#447</a>)</p></li>
<li><p>Slightly improved memory usage in <code><a href="../reference/varsel.html">varsel()</a></code>, <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>, and <code><a href="../reference/project.html">project()</a></code>. In case of LOO subsampling (see argument <code>nloo</code>) with clustered projection (i.e., <code>1 &lt; nclusters &amp;&amp; nclusters &lt; S</code> or <code>1 &lt; nclusters_pred &amp;&amp; nclusters_pred &lt; S</code>, where <code>S</code> denotes the number of posterior draws in the reference model), this change may lead to slightly different results due to different internal PRNG states. Furthermore, if <code>is.na(seed)</code>, then the PRNG state for code downstream of such a <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> call will be different due to this change. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/448" class="external-link">#448</a>)</p></li>
<li><p>The internal function <code>.extract_model_data</code> has been removed. As an alternative (with some differences compared to <code>.extract_model_data</code>), the new function <code><a href="../reference/y_wobs_offs.html">y_wobs_offs()</a></code> is exported.</p></li>
<li>
<p>Fixes/enhancements with respect to observation weights and offsets (GitHub: <a href="https://github.com/stan-dev/projpred/issues/449" class="external-link">#449</a>):</p>
<ul><li>In case of an <strong>rstanarm</strong> reference model, the defaults for arguments <code>weightsnew</code> and <code>offsetnew</code> (see <code><a href="../reference/pred-projection.html">proj_linpred()</a></code>, <code><a href="../reference/pred-projection.html">proj_predict()</a></code>, and <code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code>) now cause the original observation weights and offsets to be used if possible (instead of ones and zeros, respectively, which could even be considered to have been a bug—hence why this is mentioned under “Bug fixes” as well). For <strong>brms</strong> reference models, this behavior had already been implemented before.</li>
<li>An error is now thrown if a length-zero element <code>weights</code> or <code>offset</code> is returned by the function supplied to argument <code>extract_model_data</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> (before, a vector of ones or zeros was used silently for the observation weights and offsets, respectively).</li>
</ul></li>
<li><p>Added the helper function <code><a href="../reference/force_search_terms.html">force_search_terms()</a></code> which allows to construct <code>search_terms</code> where certain predictor terms are forced to be included (i.e., they are forced to be selected first) whereas other predictor terms are optional (i.e., they are subject to the variable selection, but only after the inclusion of the “forced” terms). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/346" class="external-link">#346</a>)</p></li>
<li><p>Reduced peak memory usage during performance evaluation (more precisely, during the re-projections done for the performance evaluation). This reduction is considerable especially for multilevel submodels, but possibly also for additive submodels. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/440" class="external-link">#440</a>, <a href="https://github.com/stan-dev/projpred/issues/450" class="external-link">#450</a>)</p></li>
<li><p>A message is now thrown when cutting off the search at <code>nterms_max</code>’s internal default of (currently) <code>19</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/452" class="external-link">#452</a>)</p></li>
<li><p>Added sub-section <a href="https://mc-stan.org/projpred/articles/projpred.html#speed">“Speed”</a> to the main vignette’s <a href="https://mc-stan.org/projpred/articles/projpred.html#troubleshooting">“Troubleshooting”</a> section. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/455" class="external-link">#455</a>)</p></li>
<li><p>In case of K-fold CV, the <code>list</code> passed to argument <code>cvfits</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> should not have a sub-<code>list</code> called <code>fits</code> anymore. Instead, the content of this former sub-<code>list</code> called <code>fits</code> should be moved one level up, i.e., should be placed directly in the <code>list</code> passed to <code>cvfits</code> (the empty element <code>fits</code> should then be removed). For some time, the old structure will continue to work, but this possibility is deprecated and will be removed in the future. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/456" class="external-link">#456</a>)</p></li>
<li><p>In case of K-fold CV, the <code>K</code> reference model fits (i.e., the elements of the return value of the function passed to argument <code>cvfun</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> or the elements of the <code>list</code> supplied to argument <code>cvfits</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>) do not need to be <code>list</code>s anymore (see the documentation for argument <code>cvrefbuilder</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/457" class="external-link">#457</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-7-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-7-0"></a></h3>
<ul><li>Fixed a bug in the printed number of projected draws for the performance evaluation when calling <code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> based on output from <code><a href="../reference/varsel.html">varsel()</a></code> with <code>refit_prj = FALSE</code>.</li>
<li>Fixed a bug sometimes causing an error when predicting from a submodel that is a GLM and has interactions. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/420" class="external-link">#420</a>)</li>
<li>Fixed a bug introduced in version 2.6.0, causing an incompatibility of K-fold CV with R versions &lt; 4.2.0. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/423" class="external-link">#423</a>, <a href="https://github.com/stan-dev/projpred/issues/427" class="external-link">#427</a>)</li>
<li>Fixed a bug for the augmented-data projection in combination with subsampled PSIS-LOO CV. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/433" class="external-link">#433</a>)</li>
<li>
<code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>validate_search = FALSE</code> used to call <code><a href="https://mc-stan.org/loo/reference/psis.html" class="external-link">loo::psis()</a></code> (for the submodel performance evaluation PSIS-LOO CV) even in case of draws with different (i.e., nonconstant) weights. In such cases, <code><a href="https://mc-stan.org/loo/reference/sis.html" class="external-link">loo::sis()</a></code> is called now (with a warning). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/438" class="external-link">#438</a>)</li>
<li>Fixed a bug for <strong>rstanarm</strong> (and custom) multilevel reference models with interactions (<code>:</code> syntax) between grouping variables, caused by missing columns in the reference model’s <code>data.frame</code> (for <strong>brms</strong> reference models, this was already done correctly). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/445" class="external-link">#445</a>)</li>
<li>In case of an <strong>rstanarm</strong> reference model, the defaults for arguments <code>weightsnew</code> and <code>offsetnew</code> (see <code><a href="../reference/pred-projection.html">proj_linpred()</a></code>, <code><a href="../reference/pred-projection.html">proj_predict()</a></code>, and <code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code>) now cause the original observation weights and offsets to be used if possible (instead of ones and zeros, respectively, which could be considered to have been a bug). For <strong>brms</strong> reference models, this behavior had already been implemented before. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/449" class="external-link">#449</a>)</li>
<li>Fixed a bug causing PSIS-LOO CV with <code>validate_search = FALSE</code> to fail in case of a single projected draw. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/454" class="external-link">#454</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.6.0" id="projpred-260">projpred 2.6.0<small>2023-06-01</small><a class="anchor" aria-label="anchor" href="#projpred-260"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-6-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-6-0"></a></h3>
<ul><li>
<p>In anticipation of a larger overhaul of the <strong>projpred</strong> user interface, this release comes with several new functions for accessing and investigating solution paths (which are now termed <em>predictor rankings</em> by these new functions, a term that is hopefully easier to grasp for new users):</p>
<ul><li>Added a new function called <code><a href="../reference/ranking.html">ranking()</a></code> which returns the predictor ranking from the full-data search and possibly also the predictor rankings from fold-wise searches in case of cross-validation (CV). (More precisely, <code><a href="../reference/ranking.html">ranking()</a></code> is a generic. The only method is <code><a href="../reference/ranking.html">ranking.vsel()</a></code>, applicable to objects returned by <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>. The output is of class <code>ranking</code>.)</li>
<li>Added a new function called <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code> which computes ranking proportions (across CV folds, see <code><a href="../reference/cv_proportions.html">?cv_proportions</a></code> for details) from fold-wise predictor rankings. (More precisely, <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code> is a generic. The main method is <code><a href="../reference/cv_proportions.html">cv_proportions.ranking()</a></code>, but as a shortcut, <code><a href="../reference/cv_proportions.html">cv_proportions.vsel()</a></code> has also been added. The output is of class <code>cv_proportions</code>.)</li>
<li>Added a new <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method called <code><a href="../reference/plot.cv_proportions.html">plot.cv_proportions()</a></code> for plotting ranking proportions from fold-wise predictor rankings. (As a shortcut, <code><a href="../reference/plot.cv_proportions.html">plot.ranking()</a></code> has also been added.)</li>
</ul><p>Because of these new functions, a message has been added to <code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code>, mentioning how to access and investigate the fold-wise predictor rankings (if they exist). Furthermore, due to these changes, element <code>pct_solution_terms_cv</code> of <code>vsel</code> objects has been replaced with element <code>solution_terms_cv</code> which contains the fold-wise predictor rankings instead of the corresponding ranking proportions. However, elements of <code>vsel</code> objects are not meant to be accessed directly, so this replacement should not be a breaking change for most users. Finally, method <code><a href="../reference/solution_terms.html">solution_terms.vsel()</a></code> (which—until now—was the only possibility to extract the full-data predictor ranking) has now been deprecated and will be removed in a future release. Please use the new function <code><a href="../reference/ranking.html">ranking()</a></code> instead (more precisely, <code><a href="../reference/ranking.html">ranking()</a></code>’s output element <code>fulldata</code> contains the full-data predictor ranking that is also extracted by <code><a href="../reference/solution_terms.html">solution_terms.vsel()</a></code>; <code><a href="../reference/ranking.html">ranking()</a></code>’s output element <code>foldwise</code> contains the fold-wise predictor rankings—if available—which were previously not accessible via a built-in function). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/289" class="external-link">#289</a>, <a href="https://github.com/stan-dev/projpred/issues/406" class="external-link">#406</a>, <a href="https://github.com/stan-dev/projpred/issues/411" class="external-link">#411</a>)</p>
</li>
<li><p>Added function <code><a href="../reference/predictor_terms.html">predictor_terms()</a></code> which retrieves the predictor terms used in a <code><a href="../reference/project.html">project()</a></code> run. Correspondingly, method <code><a href="../reference/solution_terms.html">solution_terms.projection()</a></code> has now been deprecated and will be removed in a future release. Please use <code><a href="../reference/predictor_terms.html">predictor_terms()</a></code> instead. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/411" class="external-link">#411</a>)</p></li>
<li><p><code>seed</code> (and <code>.seed</code>) arguments now have a default of <code>NA</code> instead of <code>sample.int(.Machine$integer.max, 1)</code> and the pseudorandom number generator (PRNG) state is reset only if the user-supplied seed is not <code>NA</code>. This allows setting a seed once at the beginning of any <strong>projpred</strong>-related code and then leaving all <code>seed</code> (and <code>.seed</code>) arguments at their default. Previously, such practice could lead to results which were “less random” than they should have been because the former default of <code>sample.int(.Machine$integer.max, 1)</code> caused <strong>projpred</strong> functions with a <code>seed</code> (or <code>.seed</code>) argument to reset the PRNG state upon exit, meaning that two repeated calls to <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> (for example) with no PRNG-using code between them would use the same seed internally. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/412" class="external-link">#412</a>)</p></li>
<li><p>Added the main diagonal of the matrix returned by <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code> to a new column called <code>cv_proportions_diag</code> of the summary table computed by <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code>. The purpose of this new column is to give a basic sense for the (CV) variability in the ranking of the predictors. Argument <code>cumulate</code> of <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code> has been added to <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code> as well (to allow the ranking proportions in the newly added column to be <em>cumulated</em> ranking proportions, if desired). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/289" class="external-link">#289</a>, <a href="https://github.com/stan-dev/projpred/issues/413" class="external-link">#413</a>)</p></li>
<li><p>Added the full-data predictor ranking and the main diagonal of the matrix returned by <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code> to the plot created by <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code>. These new elements can be omitted by setting <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code>’s new argument <code>ranking_nterms_max</code> to <code>NA</code> (setting it to some specific submodel size causes the full-data predictor ranking and the corresponding ranking proportions to be omitted after that size). Argument <code>cumulate</code> of <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code> has been added to <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> as well (to allow the ranking proportions to be <em>cumulated</em> ranking proportions, if desired). Other new arguments are <code>ranking_abbreviate</code> (together with <code>ranking_abbreviate_args</code>), <code>ranking_repel</code> (together with <code>ranking_repel_args</code>), and <code>text_angle</code> (see the <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> documentation for details). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/289" class="external-link">#289</a>, <a href="https://github.com/stan-dev/projpred/issues/414" class="external-link">#414</a>, <a href="https://github.com/stan-dev/projpred/issues/416" class="external-link">#416</a>, <a href="https://github.com/stan-dev/projpred/issues/417" class="external-link">#417</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-6-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-6-0"></a></h3>
<ul><li>Enhancements in the vignettes. In particular, the new functions <code><a href="../reference/ranking.html">ranking()</a></code>, <code><a href="../reference/cv_proportions.html">cv_proportions()</a></code>, and <code><a href="../reference/plot.cv_proportions.html">plot.cv_proportions()</a></code> (see “Major changes” above) are now illustrated in the main vignette. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/407" class="external-link">#407</a>, <a href="https://github.com/stan-dev/projpred/issues/411" class="external-link">#411</a>)</li>
<li>Reduced the peak memory usage of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>cv_method = "kfold"</code>. This may slightly change results from such a <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> run compared to older <strong>projpred</strong> versions due to different pseudorandom number generator (PRNG) states when clustering posterior draws. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/419" class="external-link">#419</a>)</li>
<li>The <code>cvfits</code> list (see <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>) does not need to have an attribute called <code>K</code> anymore.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-6-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-6-0"></a></h3>
<ul><li>Fixed a bug causing L1 search to throw an error in case of some <code><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I()</a></code> terms. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/404" class="external-link">#404</a>, <a href="https://github.com/stan-dev/projpred/issues/408" class="external-link">#408</a>)</li>
<li>Fixed a bug causing L1 search to throw an error in case of <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly()</a></code> or <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">polym()</a></code> terms. Note that just like <code><a href="https://rdrr.io/r/stats/step.html" class="external-link">step()</a></code> and <code><a href="https://rdrr.io/pkg/MASS/man/stepAIC.html" class="external-link">MASS::stepAIC()</a></code>, <strong>projpred</strong>’s search algorithms do not split up a <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly()</a></code> or <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">polym()</a></code> term into its lower-degree polynomial terms (which would be helpful, for example, if the linear part of a <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly()</a></code> term with <code>degrees = 2</code> was relevant but the quadratic part not). Such a split-up of a <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">poly()</a></code> or <code><a href="https://rdrr.io/r/stats/poly.html" class="external-link">polym()</a></code> term needs to be performed manually (if desired). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/183" class="external-link">#183</a>, <a href="https://github.com/stan-dev/projpred/issues/409" class="external-link">#409</a>)</li>
<li>Fixed a bug causing some non-smooth predictor terms to be treated as smooth terms. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/182" class="external-link">#182</a>, <a href="https://github.com/stan-dev/projpred/issues/410" class="external-link">#410</a>)</li>
<li>See “Major changes” above: Fixed a bug causing <strong>projpred</strong> functions with a <code>seed</code> (or <code>.seed</code>) argument to use the same seed internally when users set a seed once at the beginning (via <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>) and then had two or more calls to such <strong>projpred</strong> functions with their <code>seed</code> (or <code>.seed</code>) argument being at its default and no PRNG-using code between those calls. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/412" class="external-link">#412</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.5.0" id="projpred-250">projpred 2.5.0<small>2023-04-05</small><a class="anchor" aria-label="anchor" href="#projpred-250"></a></h2>
<div class="section level3">
<h3 id="minor-changes-2-5-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-5-0"></a></h3>
<ul><li><p>Setting the new global option <code>projpred.extra_verbose</code> to <code>TRUE</code> will print out which submodel <strong>projpred</strong> is currently projecting onto. Furthermore, if <code>method = "forward"</code> and <code>verbose = TRUE</code> in <code><a href="../reference/varsel.html">varsel()</a></code> or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>, this new option will also make <strong>projpred</strong> print out which submodel has been selected at those steps of the forward search for which a percentage is printed (the percentage refers to the maximum submodel size that the search is run up to). In general, however, we cannot recommend setting this new global option to <code>TRUE</code> for <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>validate_search = TRUE</code> (simply due to the amount of information that will be printed, but also due to the progress bar which will not work anymore as intended). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/363" class="external-link">#363</a>; thanks to <a href="https://github.com/jtimonen" class="external-link">@jtimonen</a>)</p></li>
<li><p>Enhanced <code>verbose</code> output. In particular, <code><a href="../reference/varsel.html">varsel()</a></code> is now more verbose, similarly to how <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> has already been for a long time. The <code>verbose</code> output for <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> has also been updated, with the aim to give users a better understanding of the methodology behind <strong>projpred</strong>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/382" class="external-link">#382</a>)</p></li>
<li><p>Slightly improved the calculation of predictive variances to make them less prone to numerical inaccuracies. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/199" class="external-link">#199</a>)</p></li>
<li><p>Improved computational efficiency by avoiding an unnecessary final full-data performance evaluation (including costly re-projections if <code>refit_prj = TRUE</code>, which is the default for non-<code>datafit</code> reference models) in <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>validate_search = TRUE</code>. Due to this change, results from <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> (with <code>validate_search = TRUE</code>) may slightly change due to a different pseudorandom number generator (PRNG) state when clustering posterior draws. The different PRNG state was necessary to make the PRNG state for the full-data search in the <code>validate_search = TRUE</code> case consistent to the PRNG state for the full-data search in the <code>validate_search = FALSE</code> case. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/385" class="external-link">#385</a>)</p></li>
<li><p>Reduced dependencies. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/388" class="external-link">#388</a>)</p></li>
<li><p>Argument <code>digits</code> of <code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> which used to be passed to an internal <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">round()</a></code> call was removed. Instead, <code>digits</code> can now be passed to <code><a href="https://rdrr.io/r/base/print.dataframe.html" class="external-link">print.data.frame()</a></code> via <code>...</code>, thereby determining the minimum number of <em>significant digits</em> to be printed. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/389" class="external-link">#389</a>)</p></li>
<li><p>Although bad practice (in general), a reference model lacking an intercept can now be used within <strong>projpred</strong>. However, it will always be projected onto submodels which <em>include</em> an intercept. The reason is that even if the true intercept in the reference model is zero, this does not need to hold for the submodels. An informational message mentioning the projection onto intercept-including submodels is thrown when <strong>projpred</strong> encounters a reference model lacking an intercept. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/96" class="external-link">#96</a>, <a href="https://github.com/stan-dev/projpred/issues/391" class="external-link">#391</a>)</p></li>
<li><p>In case of non-predictor arguments of <code>s()</code> or <code>t2()</code>, <strong>projpred</strong> now throws an error. (This had already been documented before, but a suitable error message was missing.) (GitHub: <a href="https://github.com/stan-dev/projpred/issues/393" class="external-link">#393</a>, based on <a href="https://github.com/stan-dev/projpred/issues/156" class="external-link">#156</a> and <a href="https://github.com/stan-dev/projpred/issues/269" class="external-link">#269</a>)</p></li>
<li><p>In case of the <code><a href="https://paul-buerkner.github.io/brms/reference/brmsfamily.html" class="external-link">brms::categorical()</a></code> family (supported since version 2.4.0), <strong>projpred</strong> now strips underscores from response category names in <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> output, as done by <strong>brms</strong>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/394" class="external-link">#394</a>)</p></li>
<li><p>L1 search now throws a warning if an interaction term is selected before all involved main-effect terms have been selected. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/395" class="external-link">#395</a>)</p></li>
<li><p>Documented that in multilevel (group-level) terms, function calls on the right-hand side of the <code>|</code> character (e.g., <code>(1 | gr(group_variable))</code>, which is possible in <strong>brms</strong>) are currently not allowed in <strong>projpred</strong>. A corresponding error message has also been added. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/319" class="external-link">#319</a>)</p></li>
<li>
<p>Due to internal refactoring:</p>
<ul><li>
<code><a href="../reference/project.html">project()</a></code>’s output elements <code>submodl</code> and <code>weights</code> have been renamed to <code>outdmin</code> and <code>wdraws_prj</code>, respectively.</li>
<li>
<code><a href="../reference/varsel.html">varsel()</a></code>’s and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>’s output element <code>d_test</code> has been replaced with new output elements <code>type_test</code> and <code>y_wobs_test</code>.</li>
</ul><p>Apart from <code><a href="../reference/project.html">project()</a></code>’s output element <code>wdraws_prj</code>, these elements are not meant to be accessed manually, so changes are mentioned here only for the sake of completeness. Output element <code>wdraws_prj</code> of <code><a href="../reference/project.html">project()</a></code> is only needed if <code><a href="../reference/project.html">project()</a></code> was used for a clustered projection, which is not the default (and discouraged in most applied cases, at least with a small number of clusters). Thus, these renamings are breaking changes only in very rare cases.</p>
</li>
<li><p><code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> now also prints <code>K</code> in case of K-fold CV.</p></li>
<li><p>The <code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> output has been slightly improved, e.g., adding a remark what “search included” or “search not included” means.</p></li>
<li><p><code><a href="../reference/print.vselsummary.html">print.vselsummary()</a></code> now also prints whether <code>deltas = TRUE</code> or <code>deltas = FALSE</code> was used.</p></li>
<li><p>Output element <code>pct_solution_terms_cv</code> has now also been added to <code>vsel</code> objects returned by <code><a href="../reference/varsel.html">varsel()</a></code>, but in that case, it is simply <code>NULL</code>. This (<code>pct_solution_terms_cv</code> being <code>NULL</code>) is now also the case if <code>validate_search = FALSE</code> was used in <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>.</p></li>
<li><p>Minor enhancements in the documentation.</p></li>
<li><p>Enhancements in the vignettes. In particular, section <a href="https://mc-stan.org/projpred/articles/projpred.html#troubleshooting">“Troubleshooting”</a> of the main vignette has been revised.</p></li>
<li><p>If <code><a href="../reference/pred-projection.html">proj_predict()</a></code> is used with observation weights that are not all equal to <code>1</code>, a warning is now thrown. (GitHub: starts to address <a href="https://github.com/stan-dev/projpred/issues/402" class="external-link">#402</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-5-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-5-0"></a></h3>
<ul><li>Fixed a long-standing bug (existing at least from version 2.0.2 on) causing <code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code> to require <code>newdata</code> to contain the response variable in case of a <strong>brms</strong> reference model. This is similar to <a href="https://github.com/paul-buerkner/brms/issues/1457" class="external-link">paul-buerkner/brms#1457</a>, but concerns <code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code> (<a href="https://github.com/paul-buerkner/brms/issues/1457" class="external-link">paul-buerkner/brms#1457</a> referred to predictions from the <em>submodels</em>). In order to make this <code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code> fix work, <strong>brms</strong> version 2.19.0 or later is needed. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/381" class="external-link">#381</a>)</li>
<li>Fixed a long-standing bug (existing from version 2.1.0 on) causing output element <code>p_type</code> of <code><a href="../reference/project.html">project()</a></code> to be incorrect in case of <code>refit_prj = FALSE</code>, <code>!is.null(nclusters)</code>, and an <code>object</code> of class <code>vsel</code> that was created with a non-clustered (thinned) projection during the search phase. The fix comes with a slightly different behavior of <code><a href="../reference/pred-projection.html">proj_predict()</a></code> for <code>datafit</code>s: It will not draw <code>nresample_clusters</code> times from the posterior-projection predictive distribution (which is based on the same single projected draw), but only once. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/211" class="external-link">#211</a>, <a href="https://github.com/stan-dev/projpred/issues/401" class="external-link">#401</a>)</li>
<li>When performing predictions from submodels which are GLMs (or from submodels which are L1-penalized GLMs, which is only possible in case of <code>refit_prj = FALSE</code> after an L1 search), a new dataset containing a <code>character</code> predictor variable with only a single unique value (or a new dataset containing a <code>factor</code> predictor variable with a single level) used to cause an error. The case of a <code>character</code> (not <code>factor</code>) predictor variable with only a single unique value occurred, e.g., during the performance evaluation in a LOO CV if a <code>character</code> predictor got selected into a fold’s solution path. The <code>character</code> issue existed from version 2.1.0 on (in earlier versions, however, there were other issues which caused <code>character</code> predictors to throw an error). Now, all issues with respect to <code>character</code> predictor variables should be resolved. The issue with single-level <code>factor</code> predictor variables is resolved now as well. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/403" class="external-link">#403</a>)</li>
<li>When performing predictions from submodels which are GLMs (or from submodels which are L1-penalized GLMs, which is only possible in case of <code>refit_prj = FALSE</code> after an L1 search), a new dataset containing a <code>factor</code> predictor with re-ordered levels (compared to this same <code>factor</code> in the original dataset) used to lead to incorrect predictions. This bug existed at least from version 2.0.2 on (possibly even in earlier versions), but has been resolved now. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/403" class="external-link">#403</a>)</li>
<li>Fixed an error thrown by <strong>projpred</strong>’s internal GLM submodel fitter in case of unused levels of a <code>factor</code>. This issue existed at least from version 2.0.2 on (possibly even in earlier versions), but should have only affected <strong>rstanarm</strong> reference model fits (<strong>brms</strong> reference model fits were only affected in case of a <code><a href="https://paul-buerkner.github.io/brms/reference/brm.html" class="external-link">brms::brm()</a></code> call with <code>drop_unused_levels = FALSE</code>, which is not the default). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/403" class="external-link">#403</a>)</li>
<li>Fixed a bug that caused an L1 search combined with <code>refit_prj = FALSE</code> (which is the default only for <code>datafit</code>s, not for the reference model objects of class <code>refmodel</code> that are usually employed in practice) to lead to incorrect predictions from the L1-searched submodels (which are L1-penalized GLMs) if the solution path had a main effect ranked after an interaction term. This bug existed at least from version 2.0.2 on (possibly even in earlier versions). The mentioned submodel predictions did not only affect the performance evaluation, but also the projected dispersion parameter and the returned Kullback-Leibler divergence (and the corresponding cross-entropy). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/403" class="external-link">#403</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.4.0" id="projpred-240">projpred 2.4.0<small>2023-02-12</small><a class="anchor" aria-label="anchor" href="#projpred-240"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-4-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-4-0"></a></h3>
<ul><li>Introduction of the augmented-data projection <a href="https://doi.org/10.48550/arXiv.2301.01660" class="external-link">(Weber et al., 2023)</a> (see section <a href="https://mc-stan.org/projpred/articles/projpred.html#modtypes">“Supported types of models”</a> of the main vignette for details). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/70" class="external-link">#70</a>, <a href="https://github.com/stan-dev/projpred/issues/322" class="external-link">#322</a>)</li>
<li>Introduction of the latent projection <a href="https://doi.org/10.48550/arXiv.2109.04702" class="external-link">(Catalina et al., 2021)</a> (see section <a href="https://mc-stan.org/projpred/articles/projpred.html#modtypes">“Supported types of models”</a> of the main vignette and the new <a href="https://mc-stan.org/projpred/articles/latent.html">latent-projection vignette</a> for details). A consequence of the latent projection (more precisely, of the <code>resp_oscale = TRUE</code> default in <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code>) is that <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> no longer call <code><a href="../reference/suggest_size.html">suggest_size()</a></code> internally at the end. Thus, <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>-ing an object of class <code>vsel</code> no longer includes the suggested projection size in the output (the <code>stat</code> for this suggested size was fixed to <code>"elpd"</code> anyway, a fact that many users were probably not aware of). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/372" class="external-link">#372</a>)</li>
<li>In case of multilevel models, <strong>projpred</strong> now has two global options for “integrating out” group-level effects: <code>projpred.mlvl_pred_new</code> and <code>projpred.mlvl_proj_ref_new</code>. These are explained in detail in the general package documentation (available <a href="https://mc-stan.org/projpred/reference/projpred-package.html">online</a> or by typing <code><a href="../reference/projpred-package.html">?`projpred-package`</a></code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/379" class="external-link">#379</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-4-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-4-0"></a></h3>
<ul><li>Improvements in the numerical stability of internal link and inverse-link functions. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/376" class="external-link">#376</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-4-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-4-0"></a></h3>
<ul><li>Fix a bug for offsets in cases where <code>family</code> (see <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>) has a non-identity link function: After clustering the reference model’s posterior draws, we need to aggregate (within a given cluster) the reference model’s fitted values which already take the offsets into account instead of taking the offsets into account after aggregating the fitted values which do <em>not</em> take the offsets into account. This fix should affect results only in a very slight manner. Due to <strong>projpred</strong>’s internal adjustment for numerical stability when averaging a quantity across the draws within a given cluster, this also changes the projected residual standard deviations in Gaussian models in the order of <code>1e-10</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/374" class="external-link">#374</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.3.0" id="projpred-230">projpred 2.3.0<small>2023-01-10</small><a class="anchor" aria-label="anchor" href="#projpred-230"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-3-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-3-0"></a></h3>
<ul><li>In <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> and <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code>, the default of <code>alpha = 0.32</code> is replaced by <code>alpha = 2 * pnorm(-1)</code> (= <code>1 - diff(pnorm(c(-1, 1)))</code>, which is only <em>approximately</em> 0.32) so that now, a normal-approximation confidence interval with default <code>alpha</code> stretches by exactly one standard error on either side of the point estimate. Typically, this changes results only slightly. In some cases, however, the new default may lead to a different suggested size, explaining why this is regarded as a major change. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/371" class="external-link">#371</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-3-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-3-0"></a></h3>
<ul><li>The deprecated function <code><a href="https://ggplot2.tidyverse.org/reference/aes_.html" class="external-link">ggplot2::aes_string()</a></code> is not used anymore, thereby avoiding an occasional soft-deprecation warning thrown by <strong>ggplot2</strong> 3.4.0. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/367" class="external-link">#367</a>)</li>
<li>The KL divergence from the reference model to a submodel is simplified to the corresponding cross-entropy (i.e., the reference model’s entropy is dropped), with some caveats described in the documentation for output element <code>ce</code> of <code><a href="../reference/project.html">project()</a></code>. The reason for this change is that the former KL divergence assumed the reference model’s family to be the same as the submodel’s family, which does not need to be the case for custom reference models. This should not be a user-facing change as users are discouraged to make use of specific output elements (like the former element <code>kl</code> of objects of class <code>projection</code> or <code>vsel</code>) directly. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/369" class="external-link">#369</a>)</li>
<li>Improvements in the documentation (especially for argument <code>family</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> and <code><a href="../reference/refmodel-init-get.html">get_refmodel.default()</a></code>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2.2" id="projpred-222">projpred 2.2.2<small>2022-11-09</small><a class="anchor" aria-label="anchor" href="#projpred-222"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-2-2">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-2-2"></a></h3>
<ul><li>Several important bug fixes (see below).</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-2-2">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-2-2"></a></h3>
<ul><li>Improvements in documentation and vignette, especially to emphasize the generality of the reference model object resulting from <code><a href="../reference/refmodel-init-get.html">get_refmodel()</a></code> and <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> (thereby also distinguishing more clearly between “typical” and “custom” reference model objects) in (i) the description and several arguments of <code><a href="../reference/refmodel-init-get.html">get_refmodel()</a></code> and <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>, (ii) sections <a href="https://mc-stan.org/projpred/articles/projpred.html#refmod">“Reference model”</a> and <a href="https://mc-stan.org/projpred/articles/projpred.html#modtypes">“Supported types of models”</a> of the vignette. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/357" class="external-link">#357</a>, <a href="https://github.com/stan-dev/projpred/issues/359" class="external-link">#359</a>, <a href="https://github.com/stan-dev/projpred/issues/364" class="external-link">#364</a>, <a href="https://github.com/stan-dev/projpred/issues/365" class="external-link">#365</a>, <a href="https://github.com/stan-dev/projpred/issues/366" class="external-link">#366</a>)</li>
<li>Minor improvement in terms of efficiency in the <code>validate_search = FALSE</code> case of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>.</li>
<li>Improvement in terms of efficiency in case of a forward search with custom <code>search_terms</code> (at least in some instances), also affecting the output of <code>solution_terms(&lt;vsel_object&gt;)</code> in those cases. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/360" class="external-link">#360</a>; thanks to <a href="https://github.com/sor16" class="external-link">@sor16</a>)</li>
<li>Update <a href="https://doi.org/10.48550/arXiv.2010.06994" class="external-link">Catalina et al. (2020)</a> to <a href="https://proceedings.mlr.press/v151/catalina22a.html" class="external-link">Catalina et al. (2022)</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/364" class="external-link">#364</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-2-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-2-2"></a></h3>
<ul><li>Fix a bug causing offsets not to be taken into account appropriately when calculating the PSIS weights (those used for the submodels) in the <code>validate_search = FALSE</code> case of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>. This bug was introduced in v2.2.0 (and existed up to—including—v2.2.1).</li>
<li>Fix a (long-standing) bug causing offsets not to be taken into account appropriately when calculating the predictive variances for a reference model that has a dispersion parameter and a non-identity link function. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/186" class="external-link">#186</a> (partly), <a href="https://github.com/stan-dev/projpred/issues/355" class="external-link">#355</a>)</li>
<li>Fix a (long-standing) bug causing offsets not to be taken into account appropriately when calculating the reference model’s summary statistics in case of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>cv_method = "LOO"</code> (more precisely, only the LOO posterior predictive expected values <code>&lt;vsel_object&gt;$summaries$ref$mu</code> were affected, not the (pointwise) LOO log posterior predictive density values <code>&lt;vsel_object&gt;$summaries$ref$lppd</code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/186" class="external-link">#186</a> (partly), <a href="https://github.com/stan-dev/projpred/issues/356" class="external-link">#356</a>)</li>
<li>Fix a (long-standing) bug leading to an error when trying to use <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with custom <code>search_terms</code> (in some instances). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/345" class="external-link">#345</a>, <a href="https://github.com/stan-dev/projpred/issues/360" class="external-link">#360</a>; thanks to <a href="https://github.com/sor16" class="external-link">@sor16</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2.1" id="projpred-221">projpred 2.2.1<small>2022-09-20</small><a class="anchor" aria-label="anchor" href="#projpred-221"></a></h2>
<div class="section level3">
<h3 id="minor-changes-2-2-1">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-2-1"></a></h3>
<ul><li>Several improvements in the documentation.</li>
<li>For the RMSE as well as the AUC (see argument <code>stats</code> of <code><a href="../reference/summary.vsel.html">summary.vsel()</a></code>), the bootstrapping results are now also used for inferring the lower and upper confidence interval bounds. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/318" class="external-link">#318</a>, <a href="https://github.com/stan-dev/projpred/issues/347" class="external-link">#347</a>; thanks to <a href="https://github.com/awd97" class="external-link">@awd97</a> and <a href="https://github.com/VisionResearchBlog" class="external-link">@VisionResearchBlog</a>)</li>
<li>For <code>datafit</code>s, offsets are not supported anymore. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/186" class="external-link">#186</a> (partly), <a href="https://github.com/stan-dev/projpred/issues/351" class="external-link">#351</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-2-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-2-1"></a></h3>
<ul><li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/348" class="external-link">#348</a> (L1 search in the presence of interaction terms). This bug was introduced in v2.1.0 (and existed up to—including—v2.2.0).</li>
<li>Fix incorrectly thrown messages in case of <code>datafit</code>s (and other—unlikely—cases where <code>nclusters == S</code> and <code>S &lt;= 20</code>, with <code>S</code> denoting the number of draws in the reference model).</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/349" class="external-link">#349</a> (only concerned <code>datafit</code>s). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/350" class="external-link">#350</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.2.0" id="projpred-220">projpred 2.2.0<small>2022-08-19</small><a class="anchor" aria-label="anchor" href="#projpred-220"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-2-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-2-0"></a></h3>
<ul><li>In the <code>validate_search = FALSE</code> case of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> (with <code>cv_method = "LOO"</code>), the PSIS weights are now calculated based on the reference model (they used to be calculated based on the submodels which is incorrect). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/325" class="external-link">#325</a>)</li>
<li>Some long-standing severe bugs (GitHub issues <a href="https://github.com/stan-dev/projpred/issues/329" class="external-link">#329</a>, <a href="https://github.com/stan-dev/projpred/issues/330" class="external-link">#330</a>, and <a href="https://github.com/stan-dev/projpred/issues/342" class="external-link">#342</a>) have been fixed, concerning the performance evaluation of models with nontrivial observation weights (i.e., models where at least one observation had a weight differing from 1). Concerned performance statistics were <code>"mse"</code>, <code>"rmse"</code>, <code>"acc"</code> (= <code>"pctcorr"</code>), and <code>"auc"</code> (i.e., all performance statistics except for <code>"elpd"</code> and <code>"mlpd"</code>).</li>
<li>
<code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> and <code><a href="../reference/suggest_size.html">suggest_size()</a></code> gain a new argument <code>thres_elpd</code>. By default, this argument doesn’t have any impact, but a non-<code>NA</code> value can be used for a customized model size selection rule (see <code><a href="../reference/suggest_size.html">?suggest_size</a></code> for details). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/335" class="external-link">#335</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-2-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-2-0"></a></h3>
<ul><li>Several improvements in the documentation (especially in the explanation of the <code><a href="../reference/suggest_size.html">suggest_size()</a></code> heuristic).</li>
<li>Improvement of the numerical stability for some link functions, achieved by avoiding unnecessary back-and-forth transformations between latent space and response space. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/337" class="external-link">#337</a>, <a href="https://github.com/stan-dev/projpred/issues/338" class="external-link">#338</a>)</li>
<li>All arguments <code>seed</code> and <code>.seed</code> are now allowed to be <code>NA</code> for not calling <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> internally at all.</li>
<li>Argument <code>d_test</code> of <code><a href="../reference/varsel.html">varsel()</a></code> is not considered as an internal feature anymore. This was possible after fixing a bug for <code>d_test</code> (see below). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/341" class="external-link">#341</a>)</li>
<li>The order of the observations in the sub-elements of <code>&lt;vsel_object&gt;$summaries</code> and <code>&lt;vsel_object&gt;$d_test</code> now corresponds to the order of the observations in the original dataset if <code>&lt;vsel_object&gt;</code> was created by a call to <code>cv_varsel(&lt;...&gt;, cv_method = "kfold")</code> (formerly, in that case, the observations in those sub-elements were ordered by fold). Thereby, the order of the observations in those sub-elements now always corresponds to the order of the observations in the original dataset, except if <code>&lt;vsel_object&gt;</code> was created by a call to <code>varsel(&lt;...&gt;, d_test = &lt;non-NULL_d_test_object&gt;)</code>, in which case the order of the observations in those sub-elements corresponds to the order of the observations in <code>&lt;non-NULL_d_test_object&gt;</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/341" class="external-link">#341</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-2-0"></a></h3>
<ul><li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/324" class="external-link">#324</a> (large <code>search_terms</code> caused the R session to crash).</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/204" class="external-link">#204</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/325" class="external-link">#325</a>)</li>
<li>Fix the <code>validate_search = FALSE</code> bug described above in “Major changes”: The PSIS weights are now calculated based on the reference model (they used to be calculated based on the submodels which is incorrect). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/325" class="external-link">#325</a>)</li>
<li>Fix <code>\mbox{}</code> commands displayed incorrectly in the HTML help from R version 4.2.0 on. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/326" class="external-link">#326</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/329" class="external-link">#329</a> (see also “Major changes” above).</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/331" class="external-link">#331</a>.</li>
<li>
<code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> now draws the dashed red horizontal line for the reference model (and—if present—the dotted black horizontal line for the baseline model) first (i.e., before the submodel-specific graphical elements), to avoid overplotting.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/339" class="external-link">#339</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/340" class="external-link">#340</a>)</li>
<li>Fix argument <code>d_test</code> of <code><a href="../reference/varsel.html">varsel()</a></code>: Not only the predictive performance of the <em>reference model</em> needs to be evaluated on the test data, but also the predictive performance of the <em>submodels</em>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/341" class="external-link">#341</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/342" class="external-link">#342</a> (see also “Major changes” above).</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/330" class="external-link">#330</a> (see also “Major changes” above). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/344" class="external-link">#344</a>, commit 23e7101)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1.2" id="projpred-212">projpred 2.1.2<small>2022-05-13</small><a class="anchor" aria-label="anchor" href="#projpred-212"></a></h2>
<div class="section level3">
<h3 id="minor-changes-2-1-2">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-1-2"></a></h3>
<ul><li>Account for changes concerning the handling of offsets in <strong>rstanarm</strong> version 2.21.3. In particular, issue <a href="https://github.com/stan-dev/rstanarm/issues/542" class="external-link">stan-dev/rstanarm#542</a> was fixed in <strong>rstanarm</strong> 2.21.3.</li>
<li>Show the output of the vignette on CRAN.</li>
<li>In the vignette, use <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with LOO CV and <code>validate_search = FALSE</code> instead of K-fold CV. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/305" class="external-link">#305</a>)</li>
<li>Improve the documentation for argument <code>search_terms</code> of <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/155" class="external-link">#155</a>, <a href="https://github.com/stan-dev/projpred/issues/308" class="external-link">#308</a>)</li>
<li>In case of user-specified (non-<code>NULL</code>) <code>search_terms</code>, <code>method = NULL</code> is internally changed to <code>method = "forward"</code> and <code>method = "L1"</code> throws a warning. This is done because <code>search_terms</code> only takes effect in case of a forward search. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/155" class="external-link">#155</a>, <a href="https://github.com/stan-dev/projpred/issues/308" class="external-link">#308</a>)</li>
<li>Internally, the intercept is now always included in <code>search_terms</code>. This is necessary to prevent a bug described below. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/308" class="external-link">#308</a>)</li>
<li>When fitting multilevel submodels via <strong>lme4</strong>, <strong>projpred</strong> now tries to handle <code>PIRLS loop resulted in NaN value</code> errors automatically. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/314" class="external-link">#314</a>)</li>
<li>The fix for GitHub issue <a href="https://github.com/stan-dev/projpred/issues/320" class="external-link">#320</a> (see below) required to rename argument <code>b</code> of <code>projpred:::bootstrap()</code> to <code>B</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-2"></a></h3>
<ul><li>Throw a more informative error message in case of special group-level terms which are currently not supported (in particular, nested ones).</li>
<li>Previously, using a <code>search_terms</code> vector which excluded the intercept in conjunction with <code>refit_prj = FALSE</code> (the latter in <code><a href="../reference/project.html">project()</a></code>, <code><a href="../reference/varsel.html">varsel()</a></code>, or <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>) led to incorrect submodels being fetched from the search or to an error while doing so. This has been fixed now by internally forcing the inclusion of the intercept in <code>search_terms</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/308" class="external-link">#308</a>)</li>
<li>Fix GitHub issues <a href="https://github.com/stan-dev/projpred/issues/147" class="external-link">#147</a> and <a href="https://github.com/stan-dev/projpred/issues/202" class="external-link">#202</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/312" class="external-link">#312</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/320" class="external-link">#320</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/321" class="external-link">#321</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1.1" id="projpred-211">projpred 2.1.1<small>2022-04-03</small><a class="anchor" aria-label="anchor" href="#projpred-211"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-2-1-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-1"></a></h3>
<ul><li>Fix the order of the package authors.</li>
<li>Fix failing CRAN checks.</li>
<li>Add an input check for argument <code>solution_terms</code> of <code><a href="../reference/project.html">project()</a></code> to fix a test failure in R versions &gt;= 4.2.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.1.0" id="projpred-210">projpred 2.1.0<small>2022-04-01</small><a class="anchor" aria-label="anchor" href="#projpred-210"></a></h2>
<div class="section level3">
<h3 id="major-changes-2-1-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-1-0"></a></h3>
<ul><li>Added support for weighted LOO proportional-to-size subsampling based on <a href="https://proceedings.mlr.press/v97/magnusson19a.html" class="external-link">Magnusson et al. (2019)</a>. However, subsampled PSIS-LOO CV is currently regarded as experimental. Therefore, a corresponding warning is thrown when calling <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>nloo &lt; n</code> where <code>n</code> denotes the number of observations. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/94" class="external-link">#94</a>, <a href="https://github.com/stan-dev/projpred/issues/252" class="external-link">#252</a>, commit feea39e)</li>
<li>Automatically explore both linear and smooths components in GAM models. This allows the user to gauge the impact of the smooth term against its linear counterpart.</li>
<li>Fast approximate LOO computation for <code>validate_search = FALSE</code> in <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>.</li>
<li>Formerly, the defaults for arguments <code>nclusters</code> (= <code>1</code>) and <code>nclusters_pred</code> (= <code>5</code>) of <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> were set internally (the user-visible defaults were <code>NULL</code>). Now, <code>nclusters</code> and <code>ndraws_pred</code> (note the <code>ndraws_pred</code>, not <code>nclusters_pred</code>) have non-<code>NULL</code> user-visible defaults of <code>20</code> and <code>400</code>, respectively. In general, this increases the runtime of these functions a lot. With respect to <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>, the new vignette (see <a href="https://mc-stan.org/projpred/articles/">vignettes</a>) mentions two ways to quickly obtain some rough preliminary results which in general should not be used as final results, though: (i) <code><a href="../reference/varsel.html">varsel()</a></code> and (ii) <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> with <code>validate_search = FALSE</code> (which only takes effect for <code>cv_method = "LOO"</code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/291" class="external-link">#291</a> and several commits beforehand, in particular bbd0f0a, babe031, 4ef95d3, and ce7d1e0)</li>
<li>For <code><a href="../reference/pred-projection.html">proj_linpred()</a></code> and <code><a href="../reference/pred-projection.html">proj_predict()</a></code>, arguments <code>nterms</code>, <code>ndraws</code>, and <code>seed</code> have been removed to allow the user to pass them to <code><a href="../reference/project.html">project()</a></code>. New arguments <code>filter_nterms</code>, <code>nresample_clusters</code>, and <code>.seed</code> have been introduced (see the documentation for details). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/92" class="external-link">#92</a>, <a href="https://github.com/stan-dev/projpred/issues/135" class="external-link">#135</a>)</li>
<li>Reference models lacking an intercept are not supported anymore (actually, the previous implementation for such models was incomplete). Support might be re-introduced in the future (when fixed), but for now it is withdrawn as it requires some larger changes. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/124" class="external-link">#124</a>, but see also <a href="https://github.com/stan-dev/projpred/issues/96" class="external-link">#96</a> and <a href="https://github.com/stan-dev/projpred/issues/100" class="external-link">#100</a>)</li>
<li>In the output of <code><a href="../reference/pred-projection.html">proj_linpred()</a></code>, dimensions are not dropped anymore (i.e., output elements <code>pred</code> and <code>lpd</code> are always S x N matrices now). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/143" class="external-link">#143</a>)</li>
<li>In case of <code>integrated = TRUE</code>, <code><a href="../reference/pred-projection.html">proj_linpred()</a></code> now averages the LPD (across the projected posterior draws) instead of taking the LPD at the averaged linear predictors. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/143" class="external-link">#143</a>)</li>
<li>If <code>newdata</code> does not contain the response variable, <code><a href="../reference/pred-projection.html">proj_linpred()</a></code> now returns <code>NULL</code> for output element <code>lpd</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/143" class="external-link">#143</a>)</li>
<li>The fix for the offset issues (listed below under “Bug fixes”) requires reference model fits of class <code>stanreg</code> (from package <strong>rstanarm</strong>) with offsets to have these offsets specified via an <code><a href="https://rdrr.io/r/stats/offset.html" class="external-link">offset()</a></code> term in the model formula (and not via argument <code>offset</code>).</li>
<li>Improved handling of errors when fitting multilevel submodels. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/201" class="external-link">#201</a>)</li>
<li>Some defaults have been changed from <code>NULL</code> to a user-visible value (and <code>NULL</code> is not allowed anymore).</li>
<li>Argument <code>data</code> of <code><a href="../reference/refmodel-init-get.html">get_refmodel.stanreg()</a></code> has been removed. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/219" class="external-link">#219</a>)</li>
<li>The function passed to argument <code>div_minimizer</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> now always needs to return a <code>list</code> of submodels (see the documentation for details). Correspondingly, the function passed to argument <code>proj_predfun</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> can now always expect a <code>list</code> as input for argument <code>fits</code> (see the documentation for details). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/230" class="external-link">#230</a>)</li>
<li>The function passed to argument <code>proj_predfun</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> now always needs to return a matrix (see the documentation for details). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/230" class="external-link">#230</a>)</li>
<li>The projection can be run in parallel now. However, we cannot recommend this for all kinds of platforms and all kinds of models. For more information, see the general package documentation available at <code><a href="../reference/projpred-package.html">?`projpred-package`</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/235" class="external-link">#235</a>)</li>
<li>Support for the <code><a href="../reference/extra-families.html">Student_t()</a></code> family is regarded as experimental. Therefore, a corresponding warning is thrown when creating the reference model. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/233" class="external-link">#233</a>, <a href="https://github.com/stan-dev/projpred/issues/252" class="external-link">#252</a>)</li>
<li>Support for additive models (i.e., GAMs and GAMMs) is regarded as experimental. Therefore, a corresponding warning is thrown when creating the reference model. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/237" class="external-link">#237</a>, <a href="https://github.com/stan-dev/projpred/issues/252" class="external-link">#252</a>)</li>
<li>Support for the <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">Gamma()</a></code> family is regarded as experimental. Therefore, a corresponding warning is thrown when creating the reference model. (GitHub: <a href="https://github.com/paul-buerkner/brms/issues/1255" class="external-link">paul-buerkner/brms#1255</a>, <a href="https://github.com/stan-dev/projpred/issues/240" class="external-link">#240</a>, <a href="https://github.com/stan-dev/projpred/issues/252" class="external-link">#252</a>)</li>
<li>The previous behavior of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> in case of argument <code>dis</code> being <code>NULL</code> (the default) was dangerous for custom reference models with a <code>family</code> having a dispersion parameter (in that case, <code>dis</code> values of all-zeros were used silently). The new behavior now requires a non-<code>NULL</code> argument <code>dis</code> in that case. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/254" class="external-link">#254</a>)</li>
<li>Argument <code>cv_search</code> has been renamed to <code>refit_prj</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/154" class="external-link">#154</a>, <a href="https://github.com/stan-dev/projpred/issues/265" class="external-link">#265</a>)</li>
<li>
<code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> has gained a new argument <code>nm_scheme</code> which allows to choose the naming scheme for the column names of the returned matrix. The default (<code>"auto"</code>) follows the naming scheme of the reference model fit (and uses the <code>"rstanarm"</code> naming scheme if the reference model fit is of an unknown class). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/82" class="external-link">#82</a>, <a href="https://github.com/stan-dev/projpred/issues/279" class="external-link">#279</a>)</li>
<li>
<code>seed</code> (and <code>.seed</code>) arguments now have a default of <code>sample.int(.Machine$integer.max, 1)</code> instead of <code>NULL</code>. Furthermore, the value supplied to these arguments is now used to generate new seeds internally on-the-fly. In many cases, this will change results compared to older <strong>projpred</strong> versions. Also note that now, the internal seeds are never fixed to a specific value if <code>seed</code> (and <code>.seed</code>) arguments are set to <code>NULL</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/84" class="external-link">#84</a>, <a href="https://github.com/stan-dev/projpred/issues/286" class="external-link">#286</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-1-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-1-0"></a></h3>
<ul><li>Improved summary output with important details.</li>
<li>For group-level effects, the <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> method now also returns the estimated group-level effects themselves. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/75" class="external-link">#75</a>)</li>
<li>For group-level effects, the <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> method now returns the variance components (population SD(s) and population correlation(s)) instead of the empirical SD(s) of the group-level effects. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/74" class="external-link">#74</a>)</li>
<li>Improved documentation. (GitHub: especially <a href="https://github.com/stan-dev/projpred/issues/233" class="external-link">#233</a>)</li>
<li>Replaced the two vignettes by a single one which also has new content. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/237" class="external-link">#237</a>)</li>
<li>Updated the <code>README</code> file. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/245" class="external-link">#245</a>)</li>
<li>Some error and warning messages have been improved and added. (GitHub: especially <a href="https://github.com/stan-dev/projpred/issues/219" class="external-link">#219</a>, <a href="https://github.com/stan-dev/projpred/issues/221" class="external-link">#221</a>, <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>, <a href="https://github.com/stan-dev/projpred/issues/252" class="external-link">#252</a>, <a href="https://github.com/stan-dev/projpred/issues/263" class="external-link">#263</a>)</li>
<li>For K-fold cross-validation, an internally hard-coded value of 5 for <code>nclusters_pred</code> was removed. (GitHub: commit 5062f2f)</li>
<li>Throw a proper error message for unsupported families. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/140" class="external-link">#140</a>)</li>
<li>Show the README also on the CRAN website. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/140" class="external-link">#140</a>)</li>
<li>
<code><a href="../reference/project.html">project()</a></code>: Warn if elements of <code>solution_terms</code> are not found in the reference model (and therefore ignored). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/140" class="external-link">#140</a>)</li>
<li>
<code><a href="../reference/refmodel-init-get.html">get_refmodel.default()</a></code> now passes arguments via the ellipsis (<code>...</code>) to <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/153" class="external-link">#153</a>, commit dd3716e)</li>
<li>Remove dependency on package <strong>rngtools</strong> (version 2.0.0 of <strong>projpred</strong> re-introduced this dependency after it was already removed in version 1.1.2). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/189" class="external-link">#189</a>)</li>
<li>
<code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>: The default (<code>NULL</code>) for argument <code>extract_model_data</code> has been removed as it wasn’t meaningful anyway. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/219" class="external-link">#219</a>)</li>
<li>Argument <code>folds</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> has been removed as it was effectively unused. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/220" class="external-link">#220</a>)</li>
<li>Use the S3 system for <code><a href="../reference/solution_terms.html">solution_terms()</a></code>. This allowed the introduction of a <code><a href="../reference/solution_terms.html">solution_terms.projection()</a></code> method. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>
<code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code> now uses a default of <code>newdata = NULL</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>Argument <code>weights</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>’s argument <code>proj_predfun</code> has been removed. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/163" class="external-link">#163</a>, <a href="https://github.com/stan-dev/projpred/issues/224" class="external-link">#224</a>)</li>
<li>
<strong>projpred</strong>’s internal <code>div_minimizer</code> functions have been unified into a single <code>div_minimizer</code> which chooses an appropriate submodel fitter based on the formula of the submodel, not based on that of the reference model. Furthermore, the automatic handling of errors in the submodel fitters has been improved. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/230" class="external-link">#230</a>)</li>
<li>Improve the axis labels in <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/234" class="external-link">#234</a>, <a href="https://github.com/stan-dev/projpred/issues/270" class="external-link">#270</a>)</li>
<li>Handle <strong>rstanarm</strong>’s GitHub issue <a href="https://github.com/stan-dev/projpred/issues/551" class="external-link">#551</a>. This implies that <strong>projpred</strong>’s default <code>cvfun</code> for <code>stanreg</code> fits will now always use <em>inner</em> parallelization in <code><a href="https://mc-stan.org/rstanarm/reference/kfold.stanreg.html" class="external-link">rstanarm::kfold.stanreg()</a></code> (i.e., across chains, not across CV folds), with <code>getOption("mc.cores", 1)</code> cores. We do so on all systems (not only Windows). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/249" class="external-link">#249</a>)</li>
<li>Argument <code>fit</code> of <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>’s argument <code>proj_predfun</code> was renamed to <code>fits</code>. This is a non-breaking change since all calls to <code>proj_predfun</code> in <strong>projpred</strong> have that argument unnamed. However, this cannot be guaranteed in the future, so we strongly encourage users with a custom <code>proj_predfun</code> to rename argument <code>fit</code> to <code>fits</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/263" class="external-link">#263</a>)</li>
<li>
<code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code> has gained argument <code>cvrefbuilder</code> which may be a custom function for constructing the K reference models in a K-fold CV. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/271" class="external-link">#271</a>)</li>
<li>Allow arguments to be passed from <code><a href="../reference/project.html">project()</a></code>, <code><a href="../reference/varsel.html">varsel()</a></code>, and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> to the divergence minimizer. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/278" class="external-link">#278</a>)</li>
<li>In <code><a href="../reference/refmodel-init-get.html">init_refmodel()</a></code>, any <code>contrasts</code> attributes of the dataset’s columns are silently removed. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/284" class="external-link">#284</a>)</li>
<li>
<code>NA</code>s in data supplied to <code>newdata</code> arguments now trigger an error. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/285" class="external-link">#285</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-0"></a></h3>
<ul><li>Fixed a bug in <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> (causing incorrect column names for the returned matrix). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/72" class="external-link">#72</a>, <a href="https://github.com/stan-dev/projpred/issues/73" class="external-link">#73</a>)</li>
<li>Fixed a bug raising an error when not projecting from a <code>vsel</code> object. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/79" class="external-link">#79</a>, <a href="https://github.com/stan-dev/projpred/issues/80" class="external-link">#80</a>)</li>
<li>Fixed a bug in the calculation of the Gaussian deviance. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/81" class="external-link">#81</a>)</li>
<li>Fixed a bug in the calculation of the predictive statistics of the reference model on test data in <code><a href="../reference/varsel.html">varsel()</a></code>. (GitHub <a href="https://github.com/stan-dev/projpred/issues/90" class="external-link">#90</a>)</li>
<li>Fixed a bug in an input check for argument <code>nloo</code> of <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/93" class="external-link">#93</a>)</li>
<li>Fixed a bug in <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code>, causing an error in case of <code>!validate_search &amp;&amp; cv_method != "LOO"</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/95" class="external-link">#95</a>)</li>
<li>Fixed bugs related to the setting of the seed. (GitHub: commit 02cd50d)</li>
<li>Fixed a bug causing <code><a href="../reference/pred-projection.html">proj_linpred()</a></code> to raise an error if argument <code>newdata</code> was <code>NULL</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/97" class="external-link">#97</a>)</li>
<li>Fixed an incorrect usage of the dispersion parameter values when calculating output element <code>lpd</code> in <code><a href="../reference/pred-projection.html">proj_linpred()</a></code> (for <code>integrated = TRUE</code> as well as for <code>integrated = FALSE</code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/105" class="external-link">#105</a>)</li>
<li>Fixed bugs in <code><a href="../reference/pred-projection.html">proj_linpred()</a></code>’s calculation of output element <code>lpd</code> (for <code>integrated = TRUE</code>). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/106" class="external-link">#106</a>, <a href="https://github.com/stan-dev/projpred/issues/112" class="external-link">#112</a>)</li>
<li>Fixed an inconsistency in the dimensions of <code><a href="../reference/pred-projection.html">proj_linpred()</a></code>’s output elements <code>pred</code> and <code>lpd</code> (for <code>integrated = FALSE</code>): Now, they are both S x N matrices, with S denoting the number of (possibly clustered) posterior draws and N denoting the number of observations. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/107" class="external-link">#107</a>, <a href="https://github.com/stan-dev/projpred/issues/112" class="external-link">#112</a>)</li>
<li>Fixed a bug causing <code><a href="../reference/pred-projection.html">proj_predict()</a></code>’s output matrix to be transposed in case of <code>nrow(newdata) == 1</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/112" class="external-link">#112</a>)</li>
<li>Fixed a bug when using weights or offsets e.g. in <code><a href="../reference/pred-projection.html">proj_linpred()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/114" class="external-link">#114</a>)</li>
<li>Fixed a bug causing <code><a href="../reference/varsel.html">varsel()</a></code>/<code>make_formula</code> to fail with multidimensional interaction terms. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/102" class="external-link">#102</a>, <a href="https://github.com/stan-dev/projpred/issues/103" class="external-link">#103</a>)</li>
<li>Fixed an indexing bug in <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> for models with a single predictor. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/115" class="external-link">#115</a>)</li>
<li>Fixed bugs for argument <code>nterms</code> of <code><a href="../reference/pred-projection.html">proj_linpred()</a></code> and <code><a href="../reference/pred-projection.html">proj_predict()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/110" class="external-link">#110</a>)</li>
<li>Fixed an inconsistency for some intercept-only submodels. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/119" class="external-link">#119</a>)</li>
<li>Fix a bug for <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code> in case of 1 (clustered) draw after projection. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/130" class="external-link">#130</a>)</li>
<li>For submodels of class <code>subfit</code>, make the column names of <code><a href="../reference/as.matrix.projection.html">as.matrix.projection()</a></code>’s output matrix consistent with other classes of submodels. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/132" class="external-link">#132</a>)</li>
<li>Fix a bug for argument <code>nterms_max</code> of <code><a href="../reference/plot.vsel.html">plot.vsel()</a></code> if there is just the intercept-only submodel. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/138" class="external-link">#138</a>)</li>
<li>Throw an appropriate error message when trying to apply an L1 search to an empty (i.e. intercept-only) reference model. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/139" class="external-link">#139</a>)</li>
<li>Fix the list names of element <code>search_path</code> in, e.g., <code><a href="../reference/varsel.html">varsel()</a></code>’s output. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/140" class="external-link">#140</a>)</li>
<li>Fix a bug (error <code>unused argument</code>) when initializing the K reference models in a K-fold CV with CV fits not of class <code>brmsfit</code> or <code>stanreg</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/140" class="external-link">#140</a>)</li>
<li>In <code><a href="../reference/refmodel-init-get.html">get_refmodel.default()</a></code>, remove old defunct arguments <code>fetch_data</code>, <code>wobs</code>, and <code>offset</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/140" class="external-link">#140</a>)</li>
<li>Fix a bug in <code><a href="../reference/refmodel-init-get.html">get_refmodel.stanreg()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/142" class="external-link">#142</a>, <a href="https://github.com/stan-dev/projpred/issues/184" class="external-link">#184</a>)</li>
<li>Fix a possible bug related to <code>extract_model_data()</code>’s argument <code>extract_y</code> in <code><a href="../reference/refmodel-init-get.html">get_refmodel.default()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/153" class="external-link">#153</a>, commit 39fece8)</li>
<li>Fix a possible bug related to <code>extract_model_data()</code> in K-fold CV. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/153" class="external-link">#153</a>, commit 4f32195)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/161" class="external-link">#161</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/162" class="external-link">#162</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/164" class="external-link">#164</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/160" class="external-link">#160</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/159" class="external-link">#159</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/158" class="external-link">#158</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/157" class="external-link">#157</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/144" class="external-link">#144</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/146" class="external-link">#146</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/169" class="external-link">#169</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/167" class="external-link">#167</a>.</li>
<li>Fix a bug in the default <code>proj_predfun()</code> for GLMMs. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/174" class="external-link">#174</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/171" class="external-link">#171</a>.</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/172" class="external-link">#172</a>.</li>
<li>Fix a bug in the default <code>proj_predfun()</code> for <code>datafit</code>s. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/177" class="external-link">#177</a>)</li>
<li>Fix the names of <code>summary.vsel()$selection</code> for objects of class <code>vsel</code> created by <code><a href="../reference/varsel.html">varsel()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/179" class="external-link">#179</a>)</li>
<li>Fix forward search when <code>search_terms</code> are not consecutive in size. (GitHub: commit 34e24de)</li>
<li>Fix a bug in <code>cv_varsel()$pct_solution_terms_cv</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/188" class="external-link">#188</a>, commit e529ec1)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/185" class="external-link">#185</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/193" class="external-link">#193</a>, <a href="https://github.com/stan-dev/projpred/issues/194" class="external-link">#194</a>)</li>
<li>Fix a bug in forward searches with interaction terms. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/191" class="external-link">#191</a>)</li>
<li>Fix offset issues. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/196" class="external-link">#196</a>, <a href="https://github.com/stan-dev/projpred/issues/203" class="external-link">#203</a>, <a href="https://github.com/stan-dev/projpred/issues/228" class="external-link">#228</a>)</li>
<li>Fix a bug in <code>glm_elnet()</code> (the workhorse for L1 search), causing the grid for lambda to be constructed without taking observation weights into account. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/198" class="external-link">#198</a>; note that the second part of <a href="https://github.com/stan-dev/projpred/issues/198" class="external-link">#198</a> did not have any consequences for users)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/136" class="external-link">#136</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/221" class="external-link">#221</a>)</li>
<li>Fix a bug in <code><a href="../reference/print.vsel.html">print.vsel()</a></code> causing argument <code>digits</code> to be ignored. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/222" class="external-link">#222</a>)</li>
<li>Fix a bug causing the default of argument <code>cv_search</code> in <code><a href="../reference/varsel.html">varsel()</a></code> and <code><a href="../reference/cv_varsel.html">cv_varsel()</a></code> to be <code>TRUE</code> for <code>datafit</code>s, although it should be <code>FALSE</code> in that case. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>Fix a bug (<code>Error: Levels '&lt;...&gt;' of grouping factor '&lt;...&gt;' cannot be found in the fitted model. Consider setting argument 'allow_new_levels' to TRUE.</code>) when predicting from submodels which are GLMMs for <code>newdata</code> containing new levels for grouping factors. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>
<code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code>: Fix a bug for integer <code>ynew</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>
<code><a href="../reference/predict.refmodel.html">predict.refmodel()</a></code>: Fix input checks for <code>offsetnew</code> and <code>weightsnew</code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>After all calls to <code>extract_model_data()</code>, the weights and offsets are now checked if they are of length 0 (and if yes, then they are set to vectors of ones and zeros, respectively). This is important for <code>extract_model_data()</code> functions which return weights and offsets of length 0 (see, e.g., <code>brms</code> version &lt;= 2.16.1). (GitHub: <a href="https://github.com/stan-dev/projpred/issues/223" class="external-link">#223</a>)</li>
<li>Handle <strong>rstanarm</strong>’s GitHub issue <a href="https://github.com/stan-dev/projpred/issues/546" class="external-link">#546</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/227" class="external-link">#227</a>)</li>
<li>Fix a bug causing the internal submodel fitter for GLMMs to not pass arguments <code>var</code> (the predictive variances) and <code>regul</code> (amount of ridge regularization) to the internal submodel fitter for GLMs. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/230" class="external-link">#230</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/210" class="external-link">#210</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/234" class="external-link">#234</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/242" class="external-link">#242</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/253" class="external-link">#253</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/244" class="external-link">#244</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/255" class="external-link">#255</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/243" class="external-link">#243</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/262" class="external-link">#262</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/213" class="external-link">#213</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/264" class="external-link">#264</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/215" class="external-link">#215</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/266" class="external-link">#266</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/212" class="external-link">#212</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/267" class="external-link">#267</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/156" class="external-link">#156</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/269" class="external-link">#269</a>)</li>
<li>If the data used for the reference model contains <code>NA</code>s, an appropriate error is now thrown. Previously, the reference model was created successfully, but this caused opaque errors in downstream code such as <code><a href="../reference/project.html">project()</a></code>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/274" class="external-link">#274</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/268" class="external-link">#268</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/287" class="external-link">#287</a>)</li>
<li>Fix GitHub issue <a href="https://github.com/stan-dev/projpred/issues/149" class="external-link">#149</a>. (GitHub: <a href="https://github.com/stan-dev/projpred/issues/288" class="external-link">#288</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="2.0.2" id="projpred-202">projpred 2.0.2<small>2020-10-28</small><a class="anchor" aria-label="anchor" href="#projpred-202"></a></h2>
<p>We have fully rewritten the internals in several ways. Most importantly, we now leverage maximum likelihood estimation to third parties depending on the reference model’s family. This allows a lot of flexibility and extensibility for various models. Functionality wise, the major updates since the last release are:</p>
<ul><li>Added support for GLMMs and GAMMs via <strong>lme4</strong> and <strong>gamm4</strong>.</li>
<li>Formula syntax support internally that allows for easier building upon projections.</li>
<li>Thanks to the above point, we save some computation by only considering sensible projections during forward search instead of fitting every possible submodel.</li>
<li>We have added a new argument <code>search_terms</code> that allows the user to specify custom unit building blocks of the projections. New vignette coming up.</li>
<li>We have fully changed the way to define custom reference models. The user now provides projection fitting and prediction functions (more information in a new upcoming vignette).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.4" id="projpred-114">projpred 1.1.4<small>2019-10-02</small><a class="anchor" aria-label="anchor" href="#projpred-114"></a></h2>
<p>Better validation of function arguments.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.3" id="projpred-113">projpred 1.1.3<a class="anchor" aria-label="anchor" href="#projpred-113"></a></h2>
<p>Added print methods for vsel and cvsel objects. Added AUC statistics for binomial family. A few additional minor patches.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.2" id="projpred-112">projpred 1.1.2<small>2019-05-31</small><a class="anchor" aria-label="anchor" href="#projpred-112"></a></h2>
<p>Removed the dependency on the <strong>rngtools</strong> package.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.1" id="projpred-111">projpred 1.1.1<small>2019-03-12</small><a class="anchor" aria-label="anchor" href="#projpred-111"></a></h2>
<p>This version contains only a few patches, no new features to the user.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.1.0" id="projpred-110">projpred 1.1.0<small>2018-10-23</small><a class="anchor" aria-label="anchor" href="#projpred-110"></a></h2>
<div class="section level3">
<h3 id="new-features-1-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-1-1-0"></a></h3>
<ul><li>Added support for <a href="https://paul-buerkner.github.io/brms/" class="external-link"><strong>brms</strong></a> models.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-0"></a></h3>
<ul><li>The program crashed with <a href="https://mc-stan.org/rstanarm/" class="external-link"><strong>rstanarm</strong></a> models fitted with syntax like <code>stan_glm(log(y) ~ log(x), ...)</code>, that is, it did not allow transformation for <code>y</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="projpred-100">projpred 1.0.0<small>2018-09-18</small><a class="anchor" aria-label="anchor" href="#projpred-100"></a></h2>
<div class="section level3">
<h3 id="new-features-and-improvements-1-0-0">New features and improvements<a class="anchor" aria-label="anchor" href="#new-features-and-improvements-1-0-0"></a></h3>
<ul><li>Changed the internals so that now all fit objects (such as rstanarm fits) are converted to <code>refmodel</code>-objects using the generic <code>get_refmodel</code>-function, and all the functions use only this object. This makes it much easier to use projpred with other reference models by writing them a new <code>get_refmodel</code>-function. The syntax is now changed so that <code>varsel</code> and <code>cv_varsel</code> both return an object that has similar structure always, and the reference model is stored into this object.</li>
<li>Added more examples to the vignette.</li>
<li>Added possibility to change the baseline in <code>plot/summary</code>. Now it is possible to compare also to the best submodel found, not only to the reference model.</li>
<li>Bug fix: RMSE was previously computed wrong, this is now fixed.</li>
<li>Small changes: <code>nloo = n</code> by default in <code>cv_varsel</code>. <code>regul=1e-4</code> now by default in all functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="projpred-090">projpred 0.9.0<a class="anchor" aria-label="anchor" href="#projpred-090"></a></h2>
<div class="section level3">
<h3 id="new-features-and-improvements-0-9-0">New features and improvements<a class="anchor" aria-label="anchor" href="#new-features-and-improvements-0-9-0"></a></h3>
<ul><li>Added the <code>cv_search</code> argument for the main functions (<code>varsel</code>,<code>cv_varsel</code>,<code>project</code> and the prediction functions). Now it is possible to make predictions also with those parameter estimates that were computed during the L1-penalized search. This change also allows the user to compute the Lasso-solution by providing the observed data as the ‘reference fit’ for init_refmodel. An example will be added to the vignette.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h3>
<ul><li>The projection with a nonzero regularization parameter value did not produce exactly correct result, although the difference to the correct result was often so small that user would not see the difference. Fixed this.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="projpred-080-and-earlier">projpred 0.8.0 and earlier<small>2018-04-16</small><a class="anchor" aria-label="anchor" href="#projpred-080-and-earlier"></a></h2>
<p>Until this version, we did not keep record of the changes between different versions. Started to do this from version 0.9.0 onwards.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Juho Piironen, Markus Paasiniemi, Alejandro Catalina, Frank Weber, Aki Vehtari.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

